(self.webpackChunkyoutapBos=self.webpackChunkyoutapBos||[]).push([[11],{37011:(O,C,r)=>{r.r(C),r.d(C,{InboxModule:()=>Z});var f=r(54887),L=r(44398),a=r(27041),t=r(17460),h=r(9275),R=r(96608),x=r(56890),_=r(25879),b=r(6593),I=r(9523);function g(l,S){if(1&l&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.shortDescription)}}function w(l,S){if(1&l&&t.\u0275\u0275element(0,"span",13),2&l){const i=t.\u0275\u0275nextContext();t.\u0275\u0275property("innerHtml",i.content,t.\u0275\u0275sanitizeHtml)}}function P(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",14),t.\u0275\u0275listener("click",function(c){t.\u0275\u0275restoreView(i);const M=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(M.setToggleReadMore(c))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&l){const i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",i.seeMore?"See Less":"Read More"," ")}}function E(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"img",15),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.setRedirect())}),t.\u0275\u0275elementEnd()}if(2&l){const i=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",i.image,t.\u0275\u0275sanitizeUrl)}}let T=(()=>{class l{constructor(i,d,c){this.router=i,this.sanitizer=d,this.gaService=c,this.isRead=!0,this.seeMore=!1,this.readInboxId=new t.EventEmitter}ngOnInit(){switch(this.content=this.sanitizer.bypassSecurityTrustHtml(this.description),this.category){case a.T47.ALL:this.categoryName="Semua";break;case a.T47.CAMPAIGN:this.categoryName="Campaign";break;case a.T47.REMINDER:this.categoryName="Reminder";break;case a.T47.PROMO:this.categoryName="Promo";break;case a.T47.INFO:this.categoryName="Info"}}setToggleReadMore(i){i.stopPropagation(),this.seeMore=!this.seeMore,this.setReadInbox()}setReadInbox(){this.isRead||(this.isRead=!0,this.readInboxId.emit(this.id))}setRedirect(){if(this.gaService.addEvent("inbox detail "+this.broadcastName,"banner",""),this.setReadInbox(),this.link){let i;switch(this.type){case a.Ppq.INTERNAL:i=this.link.split(window.location.protocol+"//"+window.location.host),2===i.length?this.router.navigate([i[1]]).then():window.open(this.link,"_blank");break;case a.Ppq.EXTERNAL:window.open(this.link,"_blank")}}}static#t=this.\u0275fac=function(d){return new(d||l)(t.\u0275\u0275directiveInject(L.Router),t.\u0275\u0275directiveInject(b.H7),t.\u0275\u0275directiveInject(_.O))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["inbox-card"]],inputs:{category:"category",title:"title",description:"description",date:"date",image:"image",isRead:"isRead",shortDescription:"shortDescription",id:"id",type:"type",link:"link",broadcastName:"broadcastName"},outputs:{readInboxId:"readInboxId"},decls:18,vars:14,consts:[[3,"click"],[1,"flex","flex-row","mt-4","border-b-[1px]","border-grey-5","pb-1"],[1,"mr-[10px]"],["src","/assets/images/svg/info-blue.svg","width","24px","height","24px","alt","info-icon",1,""],[1,"flex-row","w-full"],[1,"flex","flex-row","justify-between"],[1,"text-grey-3","text-[12px]"],[1,"text-[14px]","text-xl"],[1,"text-[14px]"],[4,"ngIf"],[3,"innerHtml",4,"ngIf"],["class","text-primary-yt-blue text-[14px] cursor-pointer underline",3,"click",4,"ngIf"],["class","!w-full !h-auto","alt","","alt","inbox-image",3,"src","click",4,"ngIf"],[3,"innerHtml"],[1,"text-primary-yt-blue","text-[14px]","cursor-pointer","underline",3,"click"],["alt","","alt","inbox-image",1,"!w-full","!h-auto",3,"src","click"]],template:function(d,c){1&d&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("click",function(){return c.setReadInbox()}),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2),t.\u0275\u0275element(3,"img",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",4)(5,"div",5)(6,"span",6),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"span",6),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"formatDate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"h3",7),t.\u0275\u0275text(12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",8),t.\u0275\u0275template(14,g,2,1,"span",9)(15,w,1,1,"span",10)(16,P,2,1,"span",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(17,E,1,1,"img",12),t.\u0275\u0275elementEnd()()()),2&d&&(t.\u0275\u0275classMapInterpolate1("px-[16px] pt-1 ",c.isRead?"":"bg-blue-100"," cursor-pointer"),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(c.categoryName),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind3(10,10,c.date,"DD MMMM YYYY | HH:mm",!1)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(c.title),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!c.seeMore),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.seeMore),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!c.seeMore),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.image))},dependencies:[f.NgIf,I.i],styles:["ol,ul,menu{list-style-position:inside!important;all:revert}a{color:#1caed4;text-decoration:underline}\n"],encapsulation:2})}return l})();function H(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"inbox-card",18),t.\u0275\u0275listener("readInboxId",function(c){t.\u0275\u0275restoreView(i);const M=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(M.setReadInbox(c))}),t.\u0275\u0275elementEnd()()}if(2&l){const i=S.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("id",i.id)("shortDescription",i.inbox.shortDescription)("description",i.inbox.description)("isRead",i.isRead)("date",i.inbox.createdAt.toString())("title",i.inbox.title)("image",i.inbox.imageUrl)("category",i.inbox.category)("type",i.inbox.eventType)("link",i.inbox.link)("broadcastName",i.inbox.broadcastName)}}function A(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"lib-basic-button",22),t.\u0275\u0275listener("handleEmit",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(c.loadInBox())}),t.\u0275\u0275elementEnd()}2&l&&t.\u0275\u0275property("outlined",!0)("borderColor","blue")}function k(l,S){if(1&l&&(t.\u0275\u0275elementStart(0,"div",19)(1,"div",20),t.\u0275\u0275template(2,A,1,2,"lib-basic-button",21),t.\u0275\u0275elementEnd()()),2&l){const i=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.canLoad)}}function F(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",8)(2,"div",9)(3,"h3",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(c.markAllRead())}),t.\u0275\u0275text(4," Tandai semua dibaca "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",11)(6,"lib-basic-button",12),t.\u0275\u0275listener("handleEmit",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(c.overviewFilter())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",13),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(c.refreshInbox())}),t.\u0275\u0275element(8,"img",14),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(9,"div")(10,"div",15),t.\u0275\u0275template(11,H,2,11,"div",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,k,3,1,"div",17),t.\u0275\u0275elementEnd()()}if(2&l){const i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(6),t.\u0275\u0275property("title","Filter")("outlined",!0)("disabled",!1)("icon","arrow-down")("iconPosition","right")("textColor","text-primary-yt-blue")("borderColor","blue"),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",i.listInbox),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.listInbox.length&&i.canLoad)}}function K(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",23)(1,"lib-basic-empty-state",24),t.\u0275\u0275listener("clickButton",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(c.refreshInbox())})("clickButtonSecondary",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(c.toBack())}),t.\u0275\u0275elementEnd()()}2&l&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("image","./assets/images/png/inbox-empty-state.png")("label","Belum ada inbox")("description","Nantikan program menarik dari Youtap!")("showButton",!0)("buttonWidth","!w-auto")("buttonLabel","Refresh Inbox")("showButtonSecondary",!0)("buttonLabelSecondary","Kembali ke Halaman Utama"))}function V(l,S){if(1&l&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275template(1,F,13,9,"div",6)(2,K,2,8,"div",7),t.\u0275\u0275elementEnd()),2&l){const i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.listInbox.length>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===i.listInbox.length)}}function N(l,S){1&l&&(t.\u0275\u0275elementStart(0,"div",25),t.\u0275\u0275element(1,"img",26),t.\u0275\u0275elementStart(2,"h6",27),t.\u0275\u0275text(3," Tunggu sebentar yah.. "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",28),t.\u0275\u0275text(5,"kita lagi refresh inboxnya.."),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"img",29),t.\u0275\u0275elementEnd())}function j(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",30)(1,"span"),t.\u0275\u0275text(2,"Filter"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"i",31),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.isShowFilter=!c.isShowFilter)}),t.\u0275\u0275elementEnd()()}}function z(l,S){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"lib-basic-button",34),t.\u0275\u0275listener("handleEmit",function(){const M=t.\u0275\u0275restoreView(i).$implicit,Q=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(Q.setRange(M.type))}),t.\u0275\u0275elementEnd()}if(2&l){const i=S.$implicit,d=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("title",i.name)("borderColor","blue")("width","w-full")("textColor",i.type===d.selectedRange?"text-white":"text-primary-yt-blue")("outlined",i.type!==d.selectedRange)}}function Y(l,S){if(1&l&&(t.\u0275\u0275elementStart(0,"div",32),t.\u0275\u0275template(1,z,1,5,"lib-basic-button",33),t.\u0275\u0275elementEnd()),2&l){const i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",i.listRange)}}let X=(()=>{class l{constructor(i,d){this.inboxService=i,this.location=d,this.listInbox=[],this.listRange=[{name:"Semua Notifikasi",type:a.xPx.ALL},{name:"14 hari Terakhir",type:a.xPx.DAY_14},{name:"7 hari Terakhir",type:a.xPx.DAY_7}],this.totalPage=10,this.page=1,this.limit=10,this.isShowFilter=!1,this.selectedRange=a.xPx.ALL,this.isLoading=!0,this.canLoad=!1,this.checkData=0}ngOnInit(){this.isLoading=!0,this.getListInbox(),this.autoRefreshInbox()}refreshInbox(){this.listInbox=[],this.isLoading=!0,this.getListInbox()}autoRefreshInbox(){this.checkData=setInterval(i=>{this.getListInbox(),clearInterval(i)},5e3)}fetchData(){this.page=1,this.listInbox=[],this.isLoading=!0,this.getListInbox()}overviewFilter(){this.isShowFilter=!this.isShowFilter}setRange(i){this.page=1,this.selectedRange!==i&&(this.selectedRange=i,this.isShowFilter=!1,this.fetchData())}getListInbox(){this.canLoad=!0;const i={page:this.page,limit:this.limit,filter:{}};this.selectedRange!==a.xPx.ALL&&(i.filter={interval:this.selectedRange}),this.inboxService.listUserInbox({listUserInboxInput:i}).subscribe({next:({data:d})=>{this.totalPage=d.listUserInbox.totalPage||0;const c=new Set(this.listInbox.map(M=>M.id));this.listInbox=this.listInbox.concat(d.listUserInbox.userInboxes.filter(M=>!c.has(M.id))),this.isLoading=!1,this.page===d.listUserInbox.totalPage&&(this.canLoad=!1)},error:()=>{this.isLoading=!1}})}setReadInbox(i){this.inboxService.readUnreadUserInbox({readUnreadUserInboxInput:{isRead:!0,ids:[i]}}).subscribe({next:()=>{}})}markAllRead(){this.inboxService.readUnreadAllInbox({readUnreadAllUserInboxInput:{isRead:!0}}).subscribe({next:i=>{i&&this.fetchData()}})}loadInBox(){this.page=this.page+1,this.canLoad&&this.getListInbox()}toBack(){this.location.back()}ngOnDestroy(){clearInterval(this.checkData)}static#t=this.\u0275fac=function(d){return new(d||l)(t.\u0275\u0275directiveInject(a.mzz),t.\u0275\u0275directiveInject(f.Location))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["list-inbox"]],decls:7,vars:3,consts:[["class","mt-[3%] h-[99%] overflow-y-scroll scrollbar-hide bg-grey-6",4,"ngIf"],["class","flex flex-col items-center mt-4",4,"ngIf"],[3,"showModal"],["headerTemplate",""],["bodyTemplate",""],[1,"mt-[3%]","h-[99%]","overflow-y-scroll","scrollbar-hide","bg-grey-6"],[4,"ngIf"],["class","bg-white text-center py-5 mt-4",4,"ngIf"],[1,"flex","flex-col","p-[16px]","gap-2","sticky","top-0","bg-white"],[1,"flex","flex-row","justify-between","gap-x-2"],[1,"my-auto","text-[12px]","text-primary-yt-blue","cursor-pointer",3,"click"],[1,"flex","flex-row","gap-x-2"],["iconSize","w-4","padding","!px-2 !py-1","justifyContent","!justify-between",3,"title","outlined","disabled","icon","iconPosition","textColor","borderColor","handleEmit"],[1,"mt-1",3,"click"],["src","./assets/images/svg/reload.svg","alt",""],[1,"pb-[16px]","rounded-b-[20px]","bg-white"],[4,"ngFor","ngForOf"],["class","py-[3%] bg-grey-6",4,"ngIf"],[3,"id","shortDescription","description","isRead","date","title","image","category","type","link","broadcastName","readInboxId"],[1,"py-[3%]","bg-grey-6"],[1,"bg-white","p-[16px]"],["title","Lihat Lebih Banyak","width","w-full",3,"outlined","borderColor","handleEmit",4,"ngIf"],["title","Lihat Lebih Banyak","width","w-full",3,"outlined","borderColor","handleEmit"],[1,"bg-white","text-center","py-5","mt-4"],[3,"image","label","description","showButton","buttonWidth","buttonLabel","showButtonSecondary","buttonLabelSecondary","clickButton","clickButtonSecondary"],[1,"flex","flex-col","items-center","mt-4"],["src","./assets/images/png/kasir-digital.png","width","200px","alt","kasir-digital"],[1,"text-[16px]","text-grey-1","font-medium","mt-2","text-center"],[1,"text-[10px]","text-grey-3","text-center","mb-5"],["src","./assets/images/svg/loading.svg",1,"pb-5"],[1,"flex","flex-row","justify-between","items-center","z-10","relative","h-[5vh]"],[1,"pi","pi-times",3,"click"],[1,"flex","flex-col","gap-y-2","mt-3","max-h-[50vh]","overflow-y-scroll","scrollbar-hide"],[3,"title","borderColor","width","textColor","outlined","handleEmit",4,"ngFor","ngForOf"],[3,"title","borderColor","width","textColor","outlined","handleEmit"]],template:function(d,c){1&d&&(t.\u0275\u0275template(0,V,3,2,"div",0)(1,N,7,0,"div",1),t.\u0275\u0275elementStart(2,"lib-bottom-modal",2),t.\u0275\u0275template(3,j,4,0,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)(5,Y,2,1,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&d&&(t.\u0275\u0275property("ngIf",!c.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275property("showModal",c.isShowFilter))},dependencies:[f.NgForOf,f.NgIf,h.n,R.S,x.S,T],encapsulation:2})}return l})();const nt=[{path:"",component:r(78963).o,data:{canGoBack:!0},children:[{path:"",component:X,title:"Inbox"}]}];let $=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:l});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[L.RouterModule.forChild(nt),L.RouterModule]})}return l})();var J=r(32967),W=r(24260);let Z=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:l});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[f.CommonModule,$,a.drE,J.Rq,a.hJ1,a.zkK,W.m,a.PPX]})}return l})()},78963:(O,C,r)=>{r.d(C,{o:()=>x});var f=r(44398),a=r(17460),h=r(6593),R=r(99559);let x=(()=>{class _{constructor(I,g,w){this.title=I,this.route=g,this.activatedRoute=w,this.titlePage="title"}ngOnInit(){this.setTitle(),this.getChild(this.activatedRoute).data.subscribe(g=>{g.pageTitle?this.titlePage=g.pageTitle:this.setTitle()})}getChild(I){return I.firstChild?this.getChild(I.firstChild):I}setTitle(){this.titlePage=this.title.getTitle()}static#t=this.\u0275fac=function(g){return new(g||_)(a.\u0275\u0275directiveInject(h.Dx),a.\u0275\u0275directiveInject(f.Router),a.\u0275\u0275directiveInject(f.ActivatedRoute))};static#e=this.\u0275cmp=a.\u0275\u0275defineComponent({type:_,selectors:[["youtap-bos-basic-container"]],decls:5,vars:1,consts:[[1,"basic-container"],["id","body",1,"scrollbar-hide","h-[calc(100%-44px)]","mt-[-16px]","shadow-default-shadow"],["id","header",1,"h-[60px]","z-10","sticky","top-0"],[3,"title"]],template:function(g,w){1&g&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),a.\u0275\u0275element(3,"basic-header",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"router-outlet"),a.\u0275\u0275elementEnd()()),2&g&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("title",w.titlePage))},dependencies:[f.RouterOutlet,R.K],encapsulation:2})}return _})()},99559:(O,C,r)=>{r.d(C,{K:()=>x});var f=r(54887),a=r(44398),h=r(17460);let x=(()=>{class _{constructor(I,g){this.location=I,this.router=g,this.title="title"}goBack(){window.history.length<3?this.router.navigate(["/"]):this.location.back()}static#t=this.\u0275fac=function(g){return new(g||_)(h.\u0275\u0275directiveInject(f.Location),h.\u0275\u0275directiveInject(a.Router))};static#e=this.\u0275cmp=h.\u0275\u0275defineComponent({type:_,selectors:[["basic-header"]],inputs:{title:"title"},decls:5,vars:1,consts:[[1,"flex","flex-row","bg-white","p-[16px]","w-full","h-full","shadow-xl","rounded-b-[20px]","items-center"],[1,"mr-3","cursor-pointer",3,"click"],["src","./assets/images/svg/icon/back-header-basic.svg","alt","back",1,"h-[20px]","w-[20px]"],[1,"text-[18px]"]],template:function(g,w){1&g&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1),h.\u0275\u0275listener("click",function(){return w.goBack()}),h.\u0275\u0275element(2,"img",2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"span",3),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd()()),2&g&&(h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate(w.title))},encapsulation:2})}return _})()},25879:(O,C,r)=>{r.d(C,{O:()=>t});var f=r(17460),a=r(65662);let t=(()=>{class h{constructor(x){this.googleAnalyticsService=x}addEvent(x,_,b){this.googleAnalyticsService.event(x.toLowerCase(),_.toLowerCase(),b.toLowerCase())}static#t=this.\u0275fac=function(_){return new(_||h)(f.\u0275\u0275inject(a.$r))};static#e=this.\u0275prov=f.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},22096:(O,C,r)=>{r.d(C,{of:()=>a});var f=r(79940),L=r(9666);function a(...t){const h=(0,f.yG)(t);return(0,L.D)(t,h)}},99397:(O,C,r)=>{r.d(C,{b:()=>h});var f=r(84674),L=r(79360),a=r(8251),t=r(42737);function h(R,x,_){const b=(0,f.m)(R)||x||_?{next:R,error:x,complete:_}:R;return b?(0,L.e)((I,g)=>{var w;null===(w=b.subscribe)||void 0===w||w.call(b);let P=!0;I.subscribe((0,a.x)(g,E=>{var T;null===(T=b.next)||void 0===T||T.call(b,E),g.next(E)},()=>{var E;P=!1,null===(E=b.complete)||void 0===E||E.call(b),g.complete()},E=>{var T;P=!1,null===(T=b.error)||void 0===T||T.call(b,E),g.error(E)},()=>{var E,T;P&&(null===(E=b.unsubscribe)||void 0===E||E.call(b)),null===(T=b.finalize)||void 0===T||T.call(b)}))}):t.y}},16321:(O,C,r)=>{r.d(C,{P:()=>t,z:()=>a});var f=r(41954);const a=new(r(49931).v)(f.o),t=a},32967:(O,C,r)=>{r.d(C,{Ry:()=>Et,Rq:()=>Ct});var f=r(17460),L=r(22096),a=r(54829),t=r(65592),h=r(21631),R=r(64266),x=r(84674),_=r(97400);const b=["addListener","removeListener"],I=["addEventListener","removeEventListener"],g=["on","off"];function w(e,n,o,s){if((0,x.m)(o)&&(s=o,o=void 0),s)return w(e,n,o).pipe((0,_.Z)(s));const[u,p]=function H(e){return(0,x.m)(e.addEventListener)&&(0,x.m)(e.removeEventListener)}(e)?I.map(m=>y=>e[m](n,y,o)):function E(e){return(0,x.m)(e.addListener)&&(0,x.m)(e.removeListener)}(e)?b.map(P(e,n)):function T(e){return(0,x.m)(e.on)&&(0,x.m)(e.off)}(e)?g.map(P(e,n)):[];if(!u&&(0,R.z)(e))return(0,h.z)(m=>w(m,n,o))((0,a.Xf)(e));if(!u)throw new TypeError("Invalid event target");return new t.y(m=>{const y=(...v)=>m.next(1<v.length?v:v[0]);return u(y),()=>p(y)})}function P(e,n){return o=>s=>e[o](n,s)}var A=r(37398),k=r(99397),F=r(32181),K=r(16321),V=r(79360),N=r(8251),z=r(50671);function G(e,n=K.z,o){const s=function X(e=0,n,o=K.P){let s=-1;return null!=n&&((0,z.K)(n)?o=n:s=n),new t.y(u=>{let p=function Y(e){return e instanceof Date&&!isNaN(e)}(e)?+e-o.now():e;p<0&&(p=0);let m=0;return o.schedule(function(){u.closed||(u.next(m++),0<=s?this.schedule(void 0,s):u.complete())},p)})}(e,n);return function j(e,n){return(0,V.e)((o,s)=>{const{leading:u=!0,trailing:p=!1}=n??{};let m=!1,y=null,v=null,D=!1;const U=()=>{v?.unsubscribe(),v=null,p&&(at(),D&&s.complete())},et=()=>{v=null,D&&s.complete()},st=B=>v=(0,a.Xf)(e(B)).subscribe((0,N.x)(s,U,et)),at=()=>{if(m){m=!1;const B=y;y=null,s.next(B),!D&&st(B)}};o.subscribe((0,N.x)(s,B=>{m=!0,y=B,(!v||v.closed)&&(u?at():st(B))},()=>{D=!0,(!(p&&m&&v)||v.closed)&&s.complete()}))})}(()=>s,o)}function $(e,n,o,s){const u=window&&!!window.document&&window.document.documentElement;let p=u&&n?window:o;if(e&&(p=e&&u&&"string"==typeof e?function J(e,n,o){return(o?window.document:n).querySelector(e)}(e,o.nativeElement,s):e,!p))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return p}function W(e){return e&&!e.firstChange}const l={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},S={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class i{constructor(n=!0){this.vertical=n,this.propsMap=n?l:S}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Q(e){return["Window","global"].some(o=>Object.prototype.toString.call(e).includes(o))}function q(e,n){return e?n.document.documentElement:null}function it(e,n){const o=function ut({container:e,isWindow:n,axis:o}){const{offsetHeightKey:s,clientHeightKey:u}=ot(o);return rt(e,n,s,u)}(n);return n.isWindow?function ct(e,n,o){const{axis:s,container:u,isWindow:p}=o,{offsetHeightKey:m,clientHeightKey:y}=ot(s),v=e+lt(q(p,u),s,p),D=rt(n.nativeElement,p,m,y),U=function ft(e,n,o){const s=n.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[s]+lt(e,n,o)}(n.nativeElement,s,p)+D;return{height:e,scrolled:v,totalToScroll:U,isWindow:p}}(o,e,n):function dt(e,n,o){const{axis:s,container:u}=o;return{height:e,scrolled:u[s.scrollTopKey()],totalToScroll:u[s.scrollHeightKey()],isWindow:!1}}(o,0,n)}function ot(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function rt(e,n,o,s){if(isNaN(e[o])){const u=q(n,e);return u?u[s]:0}return e[o]}function lt(e,n,o){const s=n.pageYOffsetKey(),u=n.scrollTopKey(),p=n.offsetTopKey();return isNaN(window.pageYOffset)?q(o,e)[u]:e.ownerDocument?e.ownerDocument.defaultView[s]:e[p]}function pt(e,n={down:0,up:0},o){let s,u;if(e.totalToScroll<=0)return!1;const p=e.isWindow?e.scrolled:e.height+e.scrolled;return o?(s=(e.totalToScroll-p)/e.totalToScroll,u=(n?.down?n.down:0)/10):(s=e.scrolled/(e.scrolled+(e.totalToScroll-p)),u=(n?.up?n.up:0)/10),s<=u}class vt{constructor({totalToScroll:n}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=n}updateScrollPosition(n){return this.lastScrollPosition=n}updateTotalToScroll(n){this.lastTotalToScroll!==n&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=n)}updateScroll(n,o){this.updateScrollPosition(n),this.updateTotalToScroll(o)}updateTriggeredFlag(n,o){o?this.triggered.down=n:this.triggered.up=n}isTriggeredScroll(n,o){return o?this.triggered.down===n:this.triggered.up===n}}function _t(e){const{scrollContainer:n,scrollWindow:o,element:s,fromRoot:u}=e,p=function c({windowElement:e,axis:n}){return function M(e,n){const o=e.isWindow||n&&!n.nativeElement?n:n.nativeElement;return{...e,container:o}}({axis:n,isWindow:Q(e)},e)}({axis:new i(!e.horizontal),windowElement:$(n,o,s,u)}),m=new vt({totalToScroll:it(s,p)}),v={up:e.upDistance,down:e.downDistance};return function bt(e){let n=w(e.container,"scroll");return e.throttle&&(n=n.pipe(G(e.throttle,void 0,{leading:!0,trailing:!0}))),n}({container:p.container,throttle:e.throttle}).pipe((0,h.z)(()=>(0,L.of)(it(s,p))),(0,A.U)(D=>function It(e,n,o){const{scrollDown:s,fire:u}=function mt(e,n,o){const s=function ht(e,n){return e<n.scrolled}(e,n);return{fire:pt(n,o,s),scrollDown:s}}(e,n,o);return{scrollDown:s,fire:u,stats:n}}(m.lastScrollPosition,D,v)),(0,k.b)(({stats:D})=>m.updateScroll(D.scrolled,D.totalToScroll)),(0,F.h)(({fire:D,scrollDown:U,stats:{totalToScroll:et}})=>function d(e,n,o){return!!(e&&n||!o&&n)}(e.alwaysCallback,D,m.isTriggeredScroll(et,U))),(0,k.b)(({scrollDown:D,stats:{totalToScroll:U}})=>{m.updateTriggeredFlag(U,D)}),(0,A.U)(yt))}const tt={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function yt(e){const{scrollDown:n,stats:{scrolled:o}}=e;return{type:n?tt.DOWN:tt.UP,payload:{currentScrollPosition:o}}}let Et=(()=>{class e{constructor(o,s){this.element=o,this.zone=s,this.scrolled=new f.EventEmitter,this.scrolledUp=new f.EventEmitter,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:o,infiniteScrollDisabled:s,infiniteScrollDistance:u}){const p=W(o),m=W(s),y=W(u),v=!m&&!this.infiniteScrollDisabled||m&&!s.currentValue||y;(p||m||y)&&(this.destroyScroller(),v&&this.setup())}setup(){(function Z(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=_t({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(o=>this.handleOnScroll(o))})}handleOnScroll({type:o,payload:s}){const u=o===tt.DOWN?this.scrolled:this.scrolledUp;(function St(e){return e.observed??e.observers.length>0})(u)&&this.zone.run(()=>u.emit(s))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)(f.\u0275\u0275directiveInject(f.ElementRef),f.\u0275\u0275directiveInject(f.NgZone))},e.\u0275dir=f.\u0275\u0275defineDirective({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[f.\u0275\u0275NgOnChangesFeature]}),e})(),Ct=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({}),e})()}}]);