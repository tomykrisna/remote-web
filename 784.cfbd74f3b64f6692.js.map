{"version":3,"file":"784.cfbd74f3b64f6692.js","mappings":"8IAQO,IAAMA,EAAwB,MAA/B,MAAOA,UAAgCC,IAJ7CC,kCAMEC,KAAAC,YAAa,EACbD,KAAAE,OAAS,aAETC,eAAeC,GACbJ,KAAKK,MAAQD,EAAOC,MACpBL,KAAKC,WAAaG,EAAOE,YACzBN,KAAKE,OAASE,EAAOG,KAAKL,MAC5B,CAEAM,OAAOC,GACLT,KAAKU,MAAMD,EACb,CAEAE,SACEX,KAAKY,QAAQ,CAAEL,KAAM,QACvB,CAACM,SAAAb,KAAA,wFAjBUH,KAAuBiB,GAAvBjB,EAAuB,GAiBjC,GAjBiCgB,SAAAb,KAAA,UAAAe,EAAA,kCAAvBlB,EAAuBmB,UAAA,uBAAAC,SAAA,CAAAC,wCAAAC,MAAA,EAAAC,KAAA,GAAAC,OAAA,+GAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,ICRpCL,2BAAA,UAAAA,CAAwC,wBAOpCA,uBAAA,+BAAcM,EAAAhB,OAAO,aAAa,GACnCU,2BAEDA,2BAAA,wBAMEA,uBAAA,+BAAcM,EAAAhB,OAAO,aAAa,GACnCU,oCAfCA,sBAAA,GAAAA,uBAAA,0BAAAM,EAAAtB,OAAAgB,CAAmD,mBAAnDA,CAAmD,qBAAnDA,CAAmD,iBAAnDA,CAAmD,2BAAAM,EAAAtB,OAAA,qCASnDgB,sBAAA,GAAAA,uBAAA,0BAAAM,EAAAtB,OAAAgB,CAAmD,mBAAnDA,CAAmD,qBAAnDA,CAAmD,iBAAnDA,CAAmD,2BAAAM,EAAAtB,OAAA,mFDH1CL,CAAwB,+PECjCqB,2BAAA,wBAUEA,uBAAA,wBAAAA,0BAAAO,GAAA,MAAAC,EAAAR,4BAAA,OAAcA,wBAAAQ,EAAAC,YAAW,GAC1BT,uEATCA,uBAAA,cAAAA,CAAiB,uBAAAU,EAAAC,gBAAA,sBAAjBX,CAAiB,qBAAjBA,CAAiB,iBAAjBA,CAAiB,oBAAjBA,CAAiB,uBAAjBA,CAAiB,iBAAjBA,CAAiB,0DAWrBA,sBAAA,4FASEA,2BAAA,+BAWEA,uBAAA,gCAAAY,EAAAZ,0BAAAa,GAAAC,UAAAC,EAAAf,0BAAA,UAAgBA,wBAAAe,EAAAC,iBAAAJ,EAAAK,KAAAL,EAAAM,gBAAiD,GAACD,KAAAL,EAAAO,UAAAC,IAA0B,GAE7FpB,uDAXCA,uBAAA,QAAAY,EAAAS,MAAArB,CAAoB,cAAAY,EAAAU,KAApBtB,CAAoB,qBAAAY,EAAAM,gBAAA,GAAAI,KAApBtB,CAAoB,QAAAY,EAAAM,gBAAA,GAAAK,MAApBvB,CAAoB,sBAAAY,EAAAM,gBAAA,GAAAK,MAAAX,EAAAM,gBAAA,GAAAM,eAApBxB,CAAoB,OAAAY,EAAAM,gBAAA,GAAAO,SAApBzB,CAAoB,gBAAAY,EAAAM,gBAAA,GAAAM,eAApBxB,CAAoB,QAAAY,EAAAM,gBAAA,GAAAQ,MAApB1B,CAAoB,YAAAY,EAAAM,gBAAA,GAAAS,YAApB3B,CAAoB,QAAAY,EAAAgB,0CALxB5B,2BAAA,WAGEA,uBAAA,EAAA6B,EAAA,kCAcF7B,qEAbqBA,sBAAA,GAAAA,uBAAA,UAAA8B,EAAAC,0EAkBjB/B,2BAAA,YAGEA,uBAAA,yBAAAgC,EAAAhC,0BAAAiC,GAAAnB,UAAAoB,EAAAlC,0BAAA,UAASA,wBAAAkC,EAAAC,wBAAAH,EAAAf,MAAkC,GAE3CjB,sBAAA,YACAA,2BAAA,aAAsCA,mBAAA,GAAaA,yDAD9CA,sBAAA,GAAAA,uBAAA,MAAAgC,EAAAX,MAAArB,2BAAkB,MAAAgC,EAAAV,MACetB,sBAAA,GAAAA,8BAAAgC,EAAAV,gCAP1CtB,2BAAA,YACEA,uBAAA,EAAAoC,EAAA,cAQFpC,sEANqBA,sBAAA,GAAAA,uBAAA,gBAAAqC,EAAAC,aAAAC,mBAAA,KAAAF,EAAAC,aAAAC,mBAAAC,sCALvBxC,2BAAA,WAAAA,CAAsE,WAC5CA,mBAAA,uCAAiCA,2BACzDA,uBAAA,EAAAyC,EAAA,cAUFzC,qEAVqBA,sBAAA,GAAAA,uBAAA,QAAA0C,EAAAC,sBC7BhB,IAAMC,EAA0B,MAAjC,MAAOA,EAWX/D,YACUgE,EACAC,EACAC,EACAC,EACAC,EACAC,GALApE,KAAA+D,QACA/D,KAAAgE,eACAhE,KAAAiE,wBACAjE,KAAAkE,iBACAlE,KAAAmE,kBACAnE,KAAAoE,SAhBVpE,KAAAqE,OAAS,GACTrE,KAAA6B,gBAAkB,aAClB7B,KAAAsE,SAAU,EACVtE,KAAAuE,KAAO,EAEPvE,KAAAiD,SAAuB,GACvBjD,KAAA6D,qBAAsB,EAEtB7D,KAAAwE,SAAU,CAUV,CAEAC,WACEzE,KAAKqE,OAASrE,KAAK+D,MAAMW,UAAUC,cAAcC,IAAI,WAAa,GAClE5E,KAAK6E,iBACL7E,KAAK8E,uBACP,CAEAD,iBACE7E,KAAKsE,SAAU,EAqBftE,KAAKkE,eAAea,YApBS,CAC3BC,iBAAkB,CAChBT,KAAMvE,KAAKuE,KACXU,MAAO,GACPZ,OAAQ,CACNa,QAASlF,KAAKqE,QAEhBc,MAAO,CACLC,QAASC,MAA2BC,MACpCC,OAC2B,eAAzBvF,KAAK6B,gBACD2D,MAAYC,IACZD,MAAYE,MAEpBC,QAAS,CACPC,gBAAiBC,MAAeC,IAGpCC,YAAa,KAEuBC,UAAU,CAC9CC,KAAMA,EAAG1F,WACPP,KAAKsE,SAAU,EACftE,KAAK+E,YAAcxE,EACnBA,EAAKwE,YAAY9B,SAASiD,QAASC,IACjC,MAAMC,EAAiBD,EAAQ/D,gBAAgBlC,OAAQmG,GAAYA,EAAQzD,MAAQ,GAkBnF5C,KAAKiD,SAASqD,KAjBS,CACrBC,eAAgBJ,EAAQI,eACxBC,eAAgBL,EAAQK,eACxBC,YAAaN,EAAQM,YACrBnE,GAAI6D,EAAQ7D,GACZC,MAAO4D,EAAQ5D,MACfmE,SAAUP,EAAQO,SAClB5D,eAAgBqD,EAAQrD,eACxBN,KAAM2D,EAAQ3D,KACdmE,eAAgBR,EAAQQ,eACxBvE,gBAAiBgE,EAAeQ,OAASR,EAAiBD,EAAQ/D,gBAClED,KAAMgE,EAAQhE,KACd0E,SAAUV,EAAQU,SAClBxE,UAAW8D,EAAQ9D,UACnByE,iBAAkBX,EAAQW,iBAC1BC,YAAaZ,EAAQY,aAEA,GAEpBxG,EAAKwE,YAAY9B,SAAS2D,SAC7B5G,KAAKwE,SAAU,IAGnBwC,MAAOA,KACLhH,KAAKsE,SAAU,IAGrB,CAEAQ,wBACE9E,KAAK6D,qBAAsB,EAO3B7D,KAAKmE,gBAAgBV,mBANS,CAC5BwD,kBAAmB,CACjBhC,MAAO,GACPV,KAAM,KAGoCyB,UAAU,CACtDC,KAAMA,EAAG1F,WACPP,KAAKwD,aAAejD,EACpBP,KAAK6D,qBAAsB,GAE7BmD,MAAOA,KACLhH,KAAK6D,qBAAsB,IAGjC,CAEAqD,eACMlH,KAAKuE,KAAOvE,KAAK+E,YAAYA,YAAYoC,WAC3CnH,KAAK6E,gBAET,CAEAlD,YACmB3B,KAAKgE,aAAaoD,KAAKvH,IAAyB,CAC/DQ,MAAO,UACPC,aAAa,EACbC,KAAM,CACJL,OAAQF,KAAK6B,mBAGRwF,WAAWrB,UACjBzF,IACCP,KAAKuE,KAAO,EACZvE,KAAKiD,SAAW,GAChBjD,KAAK6B,gBAAkBtB,EACvBP,KAAK6E,gBAAc,EAEpByC,MAIL,CAEApF,iBAAiBC,EAAcoF,EAAqBxB,GAClD/F,KAAKoE,OAAOoD,SAAS,CAAC,kBAAkBrF,KAAS,CAC/CsF,YAAa,CACXC,kBAAmBH,EACnBxB,YAAaA,IAGnB,CAEA1C,wBACElB,GAEAnC,KAAKoE,OAAOoD,SAAS,CAAC,4BAA6B,CACjDC,YAAa,CAAEE,EAAGxF,IAEtB,CAEAyF,WACM5H,KAAKwE,UACPxE,KAAKuE,KAAOvE,KAAKuE,KAAO,EACxBvE,KAAK6E,iBAET,CAAChE,SAAAb,KAAA,mBAAAc,iBAxJUgD,GAA0B5C,8BAAA2G,kBAAA3G,8BAAA4G,KAAA5G,8BAAA6G,OAAA7G,8BAAA6G,OAAA7G,8BAAA6G,OAAA7G,8BAAA2G,UAAA,EAAAhH,SAAAb,KAAA,UAAAgI,EAAA,kCAA1BlE,EAA0B9C,UAAA,0BAAAG,MAAA,EAAAC,KAAA,EAAAC,OAAA,m9CAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,IDpBvCL,2BAAA,WAKEA,uBAAA,6BAAYM,EAAAoG,UAAU,GAEtB1G,2BAAA,UAAAA,CAA6D,QACvDA,mBAAA,GAA8BA,2BAClCA,uBAAA,EAAA+G,EAAA,0BAYF/G,2BACAA,uBAAA,EAAAgH,EAAA,8BAAAhH,CAKyB,EAAAiH,EAAA,aAmBzBjH,sBAAA,wBACAA,uBAAA,EAAAkH,EAAA,aAaFlH,kCAzDEA,uBAAA,2BAAAA,CAA4B,8BAKtBA,sBAAA,GAAAA,+BAAA,oBAAAM,EAAA6C,OAAA,KAEDnD,sBAAA,GAAAA,uBAAA,OAAAM,EAAAyB,SAAA2D,QAaF1F,sBAAA,GAAAA,uBAAA,WAAAM,EAAAyB,SAAA2D,SAAApF,EAAA8C,SAM8DpD,sBAAA,GAAAA,uBAAA,OAAAM,EAAAyB,SAAA2D,OAAA,GAiB/C1F,sBAAA,GAAAA,uBAAA,WAAAM,EAAA8C,SACWpD,sBAAA,GAAAA,uBAAA,WAAAM,EAAAyB,SAAA2D,SAAApF,EAAA8C,2MC3BlBR,CAA0B,yGCGnC5C,2BAAA,YAGEA,uBAAA,yBAAAmH,EAAAnH,0BAAAoH,GAAAtG,UAAA4B,EAAA1C,0BAAA,UAASA,wBAAA0C,EAAAP,wBAAAgF,EAAAlG,MAAkC,GAC3CjB,sBAAA,YAKAA,2BAAA,aAAsCA,mBAAA,GAAeA,yDAJnDA,sBAAA,GAAAA,uBAAA,MAAAmH,EAAA9F,MAAA8F,EAAA9F,MAAA,sCAAArB,2BAAuE,MAAAmH,EAAA7F,MAInCtB,sBAAA,GAAAA,8BAAAmH,EAAA7F,gCAV1CtB,2BAAA,YACEA,uBAAA,EAAAqH,EAAA,cAWFrH,qEATqBA,sBAAA,GAAAA,uBAAA,gBAAAU,EAAA4B,aAAAC,mBAAA,KAAA7B,EAAA4B,aAAAC,mBAAAC,2CCnBjB8E,EAAiB,CACrB,CACEC,KAAM,GACNC,UCKwB,MAAtB,MAAOC,EAKX5I,YACU6I,EACAxE,EACAD,EACAJ,GAHA/D,KAAA4I,WACA5I,KAAAoE,SACApE,KAAAmE,kBACAnE,KAAA+D,QARV/D,KAAA6I,YAAc,GAEd7I,KAAA6D,qBAAsB,CAQtB,CAEAY,WACEzE,KAAK8E,wBACL9E,KAAK6I,YAAc7I,KAAK+D,MAAMW,UAAUC,cAAcC,IAAI,WAAa,EACzE,CAEME,wBAAqB,IAAAgE,EAAA9I,KAAA,SAAA+I,KAAA,YACzBD,EAAKjF,qBAAsB,EAC3B,MAAMmF,EAA4B,CAChC/B,kBAAmB,CACjBhC,MAAO,GACPV,KAAMuE,EAAKtF,aAAesF,EAAKtF,aAAaC,mBAAmBc,KAAO,EAAI,IAG9E,IACE,MAAQhE,cAAoBuI,EAAK3E,gBAAgBV,mBAAmBuF,GAAUC,OAAOC,YACjFJ,EAAKtF,cACPsF,EAAKtF,aAAaC,mBAAmBc,KAAOhE,EAAKkD,mBAAmBc,KACpEuE,EAAKtF,aAAaC,mBAAmBC,WAAa,IAAIoF,EAAKtF,aAAaC,mBAAmBC,cAAenD,EAAKkD,mBAAmBC,YAClIoF,EAAKjF,qBAAsB,IAE3BiF,EAAKtF,aAAejD,EACpBuI,EAAKjF,qBAAsB,GAEzBiF,EAAKtF,aAAaC,mBAAmBc,KAAOuE,EAAKtF,aAAaC,mBAAmB0D,WACnF2B,EAAKhE,8BAEAkC,IAST,EA9ByB,EA+B3B,CAEAmC,SACEnJ,KAAK4I,SAASQ,MAChB,CAEA/E,SACErE,KAAKoE,OAAOoD,SAAS,CAAC,wBAAyB,CAC7CC,YAAa,CAAEpD,OAAQrE,KAAK6I,aAC5BQ,YAAY,GAEhB,CAEAhG,wBACElB,GAEAnC,KAAKoE,OAAOoD,SAAS,CAAC,4BAA6B,CACjDC,YAAa,CAAEE,EAAGxF,IAEtB,CAACtB,SAAAb,KAAA,mBAAAc,iBApEU6H,GAAezH,8BAAA2G,YAAA3G,8BAAA4G,UAAA5G,8BAAA6G,OAAA7G,8BAAA4G,kBAAA,EAAAjH,SAAAb,KAAA,UAAAgI,EAAA,kCAAfW,EAAe3H,UAAA,aAAAG,MAAA,GAAAC,KAAA,EAAAC,OAAA,43BAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,IFd5BL,2BAAA,UAAAA,CAA2D,WACnBA,uBAAA,0BAASM,EAAA2H,QAAQ,GACrDjI,sBAAA,WACFA,2BACAA,2BAAA,YAAMA,uBAAA,2BAAUM,EAAA6C,QAAQ,GACtBnD,2BAAA,WAAAA,CAAwC,OAEpCA,sBAAA,WACFA,2BACAA,2BAAA,aAGEA,uBAAA,yBAAAoI,GAAA,OAAA9H,EAAAqH,YAAAS,CAAA,EAAApI,CAAyB,gCAIVM,EAAA6C,QAAQ,GAPzBnD,iCAWNA,2BAAA,UAAAA,CAA0C,UAChBA,mBAAA,wCAAiCA,2BACzDA,uBAAA,GAAAqI,EAAA,aAaFrI,kCAvBQA,sBAAA,GAAAA,uBAAA,UAAAM,EAAAqH,YAAA3H,CAAyB,iBAAAA,4BAAA,EAAAsI,IAUZtI,sBAAA,GAAAA,uBAAA,QAAAM,EAAAqC,4LERR8E,CAAe,KDJxBtI,MAAO,QAET,CACEoI,KAAM,GACNC,UAAWe,IACXlJ,KAAM,CAAEmJ,WAAW,GACnBC,SAAU,CACR,CACElB,KAAM,eACNC,UAAW5E,EACXzD,MAAO,WAUR,IAAMuJ,EAAmB,MAA1B,MAAOA,EAAmB/I,SAAAb,KAAA,mBAAAc,iBAAnB8I,EAAmB,EAAA/I,SAAAb,KAAA,UAAAgI,EAAA,iCAAnB4B,IAAmB/I,SAAAb,KAAA,UAAAgI,EAAA,qCAHpB6B,eAAaC,SAAStB,GACtBqB,yBAECD,CAAmB,KEAnBG,EAAY,MAAnB,MAAOA,EAAYlJ,SAAAb,KAAA,mBAAAc,iBAAZiJ,EAAY,EAAAlJ,SAAAb,KAAA,UAAAgI,EAAA,iCAAZ+B,IAAYlJ,SAAAb,KAAA,UAAAgI,EAAA,qCAZrBgC,eACAJ,EACAK,IACAC,cACAC,MACAC,MACAC,MACAC,KACAC,KACAC,gBAGST,CAAY","names":["PriceSortModalComponent","Modal","constructor","this","showButton","filter","onInjectInputs","inputs","title","closeButton","data","select","value","close","cancel","dismiss","static","t","_angular_core__WEBPACK_IMPORTED_MODULE_0__","selectors","features","i0","decls","vars","consts","template","rf","ctx","_r5","ctx_r4","priceSort","ctx_r0","filterPriceSort","item_r7","_r9","$implicit","ctx_r8","getProductDetail","slug","productVariants","warehouse","id","image","name","price","discountAmount","unitType","stock","maxQuantity","isPODAvailable","ListProductSearchComponent_div_6_lib_basic_product_card_1_Template","ctx_r2","products","item_r12","_r14","ctx_r13","handleClickCategoryMenu","ListProductSearchComponent_div_8_div_3_div_1_Template","ctx_r10","listCategory","listCategoryParent","categories","ListProductSearchComponent_div_8_div_3_Template","ctx_r3","loadingListCategory","ListProductSearchComponent","route","modalService","productVariantService","productService","categoryService","router","search","loading","page","hasMore","ngOnInit","snapshot","queryParamMap","get","getListProduct","getListCategoryParent","listProduct","listProductInput","limit","keyword","order","orderBy","ProductVariantOrderByTypes","PRICE","sortBy","SortByTypes","ASC","DESC","mutator","imageResolution","ImageSizeTypes","M","warehouseId","subscribe","next","forEach","product","productVariant","variant","push","actualPriceMax","actualPriceMin","description","isActive","activeDiscount","length","supplier","categoryProducts","isAvailable","error","listCategoryInput","onScrollDown","totalPage","open","onResult","dismissed","variantSlug","navigate","queryParams","variantSlugDetail","s","onScroll","i1","i2","i3","core_mjs_","ListProductSearchComponent_lib_basic_button_4_Template","ListProductSearchComponent_lib_basic_empty_state_5_Template","ListProductSearchComponent_div_6_Template","ListProductSearchComponent_div_8_Template","item_r2","_r4","SearchComponent_div_11_div_1_Template","routes","path","component","SearchComponent","location","searchValue","_this","_asyncToGenerator","dataList","pipe","toPromise","goBack","back","replaceUrl","$event","SearchComponent_div_11_Template","_c0","HomeContainerComponent","canGoBack","children","SearchRoutingModule","RouterModule","forChild","SearchModule","CommonModule","InputTextModule","FormsModule","PipeModule","ButtonModule","CardModule","LoadingsModule","InfiniteScrollModule","EmptyStateModule"],"sourceRoot":"webpack:///","sources":["./apps/youtap-bos/src/app/main/home/price-sort-modal/price-sort-modal.component.ts","./apps/youtap-bos/src/app/main/home/price-sort-modal/price-sort-modal.component.html","./apps/youtap-bos/src/app/main/search/list-product-search/list-product-search.component.html","./apps/youtap-bos/src/app/main/search/list-product-search/list-product-search.component.ts","./apps/youtap-bos/src/app/main/search/search.component.html","./apps/youtap-bos/src/app/main/search/search-routing.module.ts","./apps/youtap-bos/src/app/main/search/search.component.ts","./apps/youtap-bos/src/app/main/search/search.module.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Modal } from '../../../shared/service/modal/modal.model';\nimport { InputModalDto } from '../../../shared/service/modal/modal.service';\n\n@Component({\n  selector: 'price-sort-modal',\n  templateUrl: './price-sort-modal.component.html'\n})\nexport class PriceSortModalComponent extends Modal {\n  title!: string;\n  showButton = false;\n  filter = 'lowerPrice';\n\n  onInjectInputs(inputs: InputModalDto): void {\n    this.title = inputs.title;\n    this.showButton = inputs.closeButton;\n    this.filter = inputs.data.filter;\n  }\n\n  select(value: string): void {\n    this.close(value);\n  }\n\n  cancel(): void {\n    this.dismiss({ data: '1234' });\n  }\n}\n","<div class=\"flex flex-col gap-y-2 mt-3\">\n  <lib-basic-button\n    [outlined]=\"filter === 'lowerPrice' ? false : true\"\n    [title]=\"'Termurah'\"\n    [borderColor]=\"'blue'\"\n    [width]=\"'w-full'\"\n    [textColor]=\"filter === 'lowerPrice' ? 'text-white' : 'text-primary-yt-blue' \"\n    (handleEmit)=\"select('lowerPrice')\"\n  ></lib-basic-button>\n\n  <lib-basic-button\n    [outlined]=\"filter === 'upperPrice' ? false : true\"\n    [title]=\"'Termahal'\"\n    [borderColor]=\"'blue'\"\n    [width]=\"'w-full'\"\n    [textColor]=\"filter === 'lowerPrice' ?'text-primary-yt-blue' : 'text-white' \"\n    (handleEmit)=\"select('upperPrice')\"\n  ></lib-basic-button>\n</div>\n","<div\n  class=\"p-4 mt-[2%]\"\n  infiniteScroll\n  [infiniteScrollDistance]=\"1\"\n  [infiniteScrollThrottle]=\"300\"\n  (scrolled)=\"onScroll()\"\n>\n  <div class=\"flex flex-row justify-between items-center mb-4\">\n    <h2>Hasil Pencarian \"{{ search }}\"</h2>\n    <lib-basic-button\n      *ngIf=\"products.length\"\n      [outlined]=\"true\"\n      [title]=\"filterPriceSort === 'lowerPrice' ? 'Termurah' : 'Termahal'\"\n      [borderColor]=\"'blue'\"\n      [padding]=\"'!p-1'\"\n      [icon]=\"'arrow-down'\"\n      [iconPosition]=\"'right'\"\n      [iconSize]=\"'w-5'\"\n      [textColor]=\"'text-primary-yt-blue'\"\n      (handleEmit)=\"priceSort()\"\n    ></lib-basic-button>\n  </div>\n  <lib-basic-empty-state\n    *ngIf=\"products.length === 0 && !loading\"\n    image=\"./assets/images/png/product-empty.png\"\n    label=\"Ups... yang kamu cari ga ada..\"\n    description=\"Cari barang yang lain yuk..\"\n  ></lib-basic-empty-state>\n  <div\n    class=\"grid grid-cols-2 gap-x-4 gap-y-6 justify-items-center\" *ngIf=\"products.length > 0\"\n  >\n    <lib-basic-product-card\n      *ngFor=\"let item of products\"\n      [image]=\"item.image\"\n      [productName]=\"item.name\"\n      [productVariantName]=\"item.productVariants[0].name\"\n      [price]=\"item.productVariants[0].price\"\n      [priceBeforeDiscount]=\"item.productVariants[0].price + item.productVariants[0].discountAmount\"\n      [unit]=\"item.productVariants[0].unitType\"\n      [discountValue]=\"item.productVariants[0].discountAmount\"\n      [stock]=\"item.productVariants[0].stock\"\n      [maxLength]=\"item.productVariants[0].maxQuantity\"\n      (clickProduct)=\"getProductDetail(item.slug, item.productVariants[0].slug, item.warehouse.id)\"\n      [isPOD]=\"item.isPODAvailable\"\n    ></lib-basic-product-card>\n  </div>\n  <lib-line-loading [isActive]=\"loading\"></lib-line-loading>\n  <div class=\"px-[16px] mt-4\" *ngIf=\"products.length === 0 && !loading\">\n    <h1 class=\"font-normal\">Kategori yang ada di Belanja STOK</h1>\n    <div class=\"mt-3\" *ngIf=\"!loadingListCategory\">\n      <div\n        class=\"flex flex-row w-full items-center mb-3 cursor-pointer\"\n        *ngFor=\"let item of listCategory.listCategoryParent?.categories\"\n        (click)=\"handleClickCategoryMenu(item.slug)\"\n      >\n        <img [src]=\"item.image\" class=\"mr-3\" width=\"40px\" [alt]=\"item.name\" />\n        <span class=\"text-[14px] font-normal\">{{item.name}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, ViewEncapsulation } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport {\n  ProductService,\n  ResponseListCategoryParentDto,\n  ListCategoryDto,\n  CategoryService,\n  ListProductDto,\n  ResponseListProductDto,\n  Products, ProductVariantOrderByTypes, SortByTypes, ImageSizeTypes\n} from \"@youtap-web-lib\";\nimport { ModalService } from \"../../../shared/service/modal/modal.service\";\nimport { PriceSortModalComponent } from \"../../home/price-sort-modal/price-sort-modal.component\";\n\n@Component({\n  selector: \"list-product-search\",\n  templateUrl: \"./list-product-search.component.html\",\n  styleUrls: [\"./list-product-search.component.scss\"],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ListProductSearchComponent implements OnInit {\n  search = \"\";\n  filterPriceSort = \"lowerPrice\";\n  loading = false;\n  page = 1;\n  listProduct!: ResponseListProductDto;\n  products: Products[] = [];\n  loadingListCategory = false;\n  listCategory!: ResponseListCategoryParentDto;\n  hasMore = true;\n\n  constructor(\n    private route: ActivatedRoute,\n    private modalService: ModalService,\n    private productVariantService: ProductService,\n    private productService: ProductService,\n    private categoryService: CategoryService,\n    private router: Router\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.search = this.route.snapshot?.queryParamMap.get(\"search\") ?? \"\";\n    this.getListProduct();\n    this.getListCategoryParent();\n  }\n\n  getListProduct() {\n    this.loading = true;\n    const data: ListProductDto = {\n      listProductInput: {\n        page: this.page,\n        limit: 25,\n        search: {\n          keyword: this.search\n        },\n        order: {\n          orderBy: ProductVariantOrderByTypes.PRICE,\n          sortBy:\n            this.filterPriceSort === \"lowerPrice\"\n              ? SortByTypes.ASC\n              : SortByTypes.DESC\n        },\n        mutator: {\n          imageResolution: ImageSizeTypes.M\n        }\n      },\n      warehouseId: ''\n    };\n    this.productService.listProduct(data).subscribe({\n      next: ({ data }) => {\n        this.loading = false;\n        this.listProduct = data;\n        data.listProduct.products.forEach((product) => {\n          const productVariant = product.productVariants.filter((variant) => variant.stock > 0);\n          const prod: Products = {\n            actualPriceMax: product.actualPriceMax,\n            actualPriceMin: product.actualPriceMin,\n            description: product.description,\n            id: product.id,\n            image: product.image,\n            isActive: product.isActive,\n            isPODAvailable: product.isPODAvailable,\n            name: product.name,\n            activeDiscount: product.activeDiscount,\n            productVariants: productVariant.length ? productVariant : product.productVariants,\n            slug: product.slug,\n            supplier: product.supplier,\n            warehouse: product.warehouse,\n            categoryProducts: product.categoryProducts,\n            isAvailable: product.isAvailable,\n          }\n          this.products.push(prod);\n        });\n        if (!data.listProduct.products.length) {\n          this.hasMore = false;\n        }\n      },\n      error: () => {\n        this.loading = false;\n      }\n    });\n  }\n\n  getListCategoryParent() {\n    this.loadingListCategory = true;\n    const data: ListCategoryDto = {\n      listCategoryInput: {\n        limit: 20,\n        page: 1\n      }\n    };\n    this.categoryService.listCategoryParent(data).subscribe({\n      next: ({ data }) => {\n        this.listCategory = data;\n        this.loadingListCategory = false;\n      },\n      error: () => {\n        this.loadingListCategory = false;\n      }\n    });\n  }\n\n  onScrollDown() {\n    if (this.page < this.listProduct.listProduct.totalPage) {\n      this.getListProduct();\n    }\n  }\n\n  priceSort() {\n    const modalRef = this.modalService.open(PriceSortModalComponent, {\n      title: \"Urutkan\",\n      closeButton: true,\n      data: {\n        filter: this.filterPriceSort\n      }\n    });\n    modalRef.onResult().subscribe(\n      (data) => {\n        this.page = 1;\n        this.products = [];\n        this.filterPriceSort = data;\n        this.getListProduct();\n      },\n      (dismissed) => {\n        dismissed;\n      }\n    );\n  }\n\n  getProductDetail(slug: string, variantSlug: string, warehouseId: string) {\n    this.router.navigate([`product/detail/${slug}`], {\n      queryParams: {\n        variantSlugDetail: variantSlug,\n        warehouseId: warehouseId,\n      }\n    });\n  }\n\n  handleClickCategoryMenu(\n    slug: string\n  ) {\n    this.router.navigate([`product/product-category`], {\n      queryParams: { s: slug }\n    });\n  }\n\n  onScroll() {\n    if (this.hasMore) {\n      this.page = this.page + 1\n      this.getListProduct();\n    }\n  }\n\n}\n","<div class=\"flex flex-row bg-white p-[16px] sticky w-full\">\n  <div class=\"mt-2 mr-3 cursor-pointer\" (click)=\"goBack()\">\n    <img src=\"./assets/images/svg/icon/back-header-basic.svg\" alt=\"back\" />\n  </div>\n  <form (submit)=\"search()\" class=\"w-full\">\n    <span class=\"p-input-icon-left !w-full\">\n      <i>\n        <img src=\"./assets/images/svg/icon/search.svg\" alt=\"search\" />\n      </i>\n      <input\n        type=\"text\"\n        pInputText\n        [(ngModel)]=\"searchValue\"\n        [ngModelOptions]=\"{ standalone: true }\"\n        placeholder=\"belanja apa hari ini?\"\n        class=\"!rounded-full h-[36px] px-[13px] py-[8px] !text-[14px] !w-full !shadow-none focus:!border-neutral-grey-5\"\n        (keyup.enter)=\"search()\" />\n    </span>\n  </form>\n</div>\n<div class=\"px-[16px] pb-[16px] bg-white\">\n  <h1 class=\"font-normal\">Kategori yang ada di Belanja STOK</h1>\n  <div class=\"mt-3\" *ngIf=\"!loadingListCategory\">\n    <div\n      class=\"flex flex-row w-full items-center mb-3 cursor-pointer\"\n      *ngFor=\"let item of listCategory.listCategoryParent?.categories\"\n      (click)=\"handleClickCategoryMenu(item.slug)\">\n      <img\n        [src]=\"item.image ? item.image : 'assets/images/png/aneka-minuman.png'\"\n        class=\"mr-3\"\n        width=\"40px\"\n        [alt]=\"item.name\" />\n      <span class=\"text-[14px] font-normal\">{{ item.name }}</span>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomeContainerComponent } from '../../shared/layout/container/home-container/home-container.component';\nimport { ListProductSearchComponent } from './list-product-search/list-product-search.component';\nimport { SearchComponent } from './search.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchComponent,\n    title: 'Cari'\n  },\n  {\n    path: '',\n    component: HomeContainerComponent,\n    data: { canGoBack: true },\n    children: [\n      {\n        path: 'list-product',\n        component: ListProductSearchComponent,\n        title: \"cari\"\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SearchRoutingModule {}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n  CategoryService,\n  ListCategoryDto,\n  ResponseListCategoryParentDto\n} from '@youtap-web-lib';\n\n@Component({\n  selector: 'search',\n  templateUrl: './search.component.html'\n})\nexport class SearchComponent implements OnInit {\n  searchValue = '';\n  listCategory!: ResponseListCategoryParentDto;\n  loadingListCategory = false;\n\n  constructor(\n    private location: Location,\n    private router: Router,\n    private categoryService: CategoryService,\n    private route: ActivatedRoute\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getListCategoryParent();\n    this.searchValue = this.route.snapshot?.queryParamMap.get('search') ?? '';\n  }\n\n  async getListCategoryParent() {\n    this.loadingListCategory = true;\n    const dataList: ListCategoryDto = {\n      listCategoryInput: {\n        limit: 20,\n        page: this.listCategory ? this.listCategory.listCategoryParent.page + 1 : 1\n      }\n    };\n    try {\n      const { data }: any = await this.categoryService.listCategoryParent(dataList).pipe().toPromise()\n      if (this.listCategory) {\n        this.listCategory.listCategoryParent.page = data.listCategoryParent.page\n        this.listCategory.listCategoryParent.categories = [...this.listCategory.listCategoryParent.categories, ...data.listCategoryParent.categories];\n        this.loadingListCategory = false;\n      } else {\n        this.listCategory = data;\n        this.loadingListCategory = false;\n      }\n      if (this.listCategory.listCategoryParent.page < this.listCategory.listCategoryParent.totalPage) {\n        this.getListCategoryParent();\n      }\n    } catch (error) {\n      error;\n    }\n    // this.categoryService.listCategoryParent(data).subscribe({\n    //   next: ({ data }) => {\n    //   },\n    //   error: (err) => {\n    //     err;\n    //   }\n    // });\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n  search() {\n    this.router.navigate(['/search/list-product'], {\n      queryParams: { search: this.searchValue },\n      replaceUrl: true\n    });\n  }\n\n  handleClickCategoryMenu(\n    slug: string,\n  ) {\n    this.router.navigate([`product/product-category`], {\n      queryParams: { s: slug }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SearchRoutingModule } from './search-routing.module';\nimport { SearchComponent } from './search.component';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { FormsModule } from '@angular/forms';\nimport { ListProductSearchComponent } from './list-product-search/list-product-search.component';\nimport {\n  ButtonModule,\n  CardModule,\n  EmptyStateModule,\n  LoadingsModule, PipeModule\n} from '@youtap-web-lib';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\n\n@NgModule({\n  declarations: [SearchComponent, ListProductSearchComponent],\n  imports: [\n    CommonModule,\n    SearchRoutingModule,\n    InputTextModule,\n    FormsModule,\n    PipeModule,\n    ButtonModule,\n    CardModule,\n    LoadingsModule,\n    InfiniteScrollModule,\n    EmptyStateModule\n  ]\n})\nexport class SearchModule {}\n"],"x_google_ignoreList":[]}