{"version":3,"file":"966.2a8eb6163af55c61.js","mappings":"iJAYO,IAAMA,EAAQ,MAAf,MAAOA,EAoBXC,YAAyCC,GAAAC,KAAAD,aAhBlCC,KAAAC,eAA6B,CAClCC,GAAI,uCACJC,KAAM,iBAEDH,KAAAI,gBAAkB,CACvBC,UAAU,kBACVC,UAAW,oBAKbN,KAAAO,WAAY,EACZP,KAAAQ,SAAU,EAEVR,KAAAS,cAAgB,MAGVC,qBAAkBV,KAAKD,cACzBC,KAAKQ,SAAU,EAEnB,CAGA,SAAIG,CAAMC,GACJZ,KAAKQ,SACPK,aAAaC,QAAQ,eAAgBF,EAEzC,CAEA,SAAID,GACF,OAAIX,KAAKQ,QACOK,aAAaE,QAAQ,gBAG5B,EAEX,CAGA,eAAIC,CAAYJ,GACVZ,KAAKQ,SACPK,aAAaC,QAAQ,cAAeF,EAExC,CAEA,eAAII,GACF,OAAIhB,KAAKQ,SACMK,aAAaE,QAAQ,gBAG3B,EAEX,CAiFA,oBAAIE,CAAiBL,GACfZ,KAAKQ,UACPK,aAAaC,QAAQ,mBAAoBI,OAAON,IAChDZ,KAAKmB,qBAAuBP,EAEhC,CAEA,oBAAIK,GACF,GAAIjB,KAAKQ,QAAS,CAChB,GAAIR,KAAKmB,qBACP,OAAOnB,KAAKmB,qBACP,CACL,MAAMC,EAAiBP,aAAaE,QAClC,oBAEF,QAAIK,IACFpB,KAAKmB,qBAAyC,QAAlBC,EACrBpB,KAAKmB,uBAMhB,OAAO,CAEX,CAGA,kBAAIE,CAAeT,GACbZ,KAAKQ,SACPK,aAAaC,QAAQ,iBAAkBQ,KAAKC,UAAUX,GAE1D,CAEA,kBAAIS,GACF,GAAIrB,KAAKQ,QAAS,CAChB,MAAMgB,EAAQX,aAAaE,QAAQ,kBACnC,OAAIS,EACqCF,KAAKG,MAC1CD,GAIK,GAGT,MAAO,EAEX,CAGA,YAAIE,CAASd,GACXZ,KAAK2B,QAAUf,EACXZ,KAAKQ,SACPK,aAAaC,QAAQ,WAAYQ,KAAKC,UAAUX,GAEpD,CAEA,YAAIc,GACF,GAAI1B,KAAKQ,QAAS,CAChB,MAAMgB,EAAQX,aAAaE,QAAQ,YACnC,OAAIS,EAC8BF,KAAKG,MAAMD,GAGpC,GAGT,MAAO,EAEX,CAACI,SAAA5B,KAAA,mBAAA6B,iBA/MUhC,GAAQiC,qBAoBCC,eAAW,EAAAH,SAAA5B,KAAA,WAAAgC,EAAA,oCApBpBnC,EAAQoC,QAARpC,EAAQqC,UAAAC,WAFP,gBAEDtC,CAAQ","names":["AuthData","constructor","platformId","this","defaultVillage","id","name","defaultPosition","latitude","longitude","isRefresh","isReady","withdrawToken","isPlatformBrowser","token","data","localStorage","setItem","getItem","expiredDate","isDefaultAddress","String","dataIsDefaultAddress","defaultAddress","detailLocation","JSON","stringify","local","parse","location","address","static","t","i0","PLATFORM_ID","_angular_core__WEBPACK_IMPORTED_MODULE_0__","factory","Éµfac","providedIn"],"sourceRoot":"webpack:///","sources":["./apps/youtap-bos/src/app/shared/data/auth.data.ts"],"sourcesContent":["import { Inject, Injectable, PLATFORM_ID } from \"@angular/core\";\nimport { isPlatformBrowser } from \"@angular/common\";\nimport {Address, DetailLocation, User} from \"@youtap-web-lib\";\n\nexport interface VillageDto {\n  id: string;\n  name: string;\n}\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class AuthData {\n  private dataVillage!: VillageDto;\n\n  public user!: User\n  public defaultVillage: VillageDto = {\n    id: \"7ceec16a-6e16-11ec-a41a-9383440169c7\",\n    name: \"KARET TENGSIN\"\n  };\n  public defaultPosition = {\n    latitude: -6.217955112457275,\n    longitude: 106.81332397460938\n  };\n  private dataCoverage!: string;\n  private dataIsCoverage!: boolean;\n  private dataIsDefaultAddress!: boolean;\n  isRefresh = false;\n  isReady = false;\n  private address!: Address;\n  withdrawToken = '';\n\n  constructor(@Inject(PLATFORM_ID) private platformId: object) {\n    if (isPlatformBrowser(this.platformId)) {\n      this.isReady = true;\n    }\n  }\n\n  /** TOKEN */\n  set token(data: string) {\n    if (this.isReady) {\n      localStorage.setItem(\"access_token\", data);\n    }\n  }\n\n  get token(): string {\n    if (this.isReady) {\n      const token = localStorage.getItem(\"access_token\") as string;\n      return token;\n    } else {\n      return \"\";\n    }\n  }\n\n  /** EXPIRED */\n  set expiredDate(data: string) {\n    if (this.isReady) {\n      localStorage.setItem(\"expiredDate\", data);\n    }\n  }\n\n  get expiredDate(): string {\n    if (this.isReady) {\n      const date = localStorage.getItem(\"expiredDate\");\n      return date ? date : \"\";\n    } else {\n      return \"\";\n    }\n  }\n\n  //\n  // /** VILLAGE */\n  // set village(data: VillageDto) {\n  //   if (this.isReady) {\n  //     localStorage.setItem(\n  //       'village',\n  //       JSON.stringify({\n  //         id: data.id,\n  //         name: data.name\n  //       })\n  //     );\n  //     this.dataVillage = data;\n  //   }\n  // }\n  //\n  // get village(): VillageDto {\n  //   if (this.isReady) {\n  //     const village: Village = JSON.parse(\n  //       localStorage.getItem('village') as string\n  //     );\n  //     return village;\n  //   } else {\n  //     return {} as VillageDto;\n  //   }\n  // }\n\n  // /** COVERAGE NAME */\n  // set coverageArea(data: string) {\n  //   if (this.isReady) {\n  //     localStorage.setItem('coverageArea', data);\n  //     this.dataCoverage = data;\n  //   }\n  // }\n  //\n  // get coverageArea(): string {\n  //   if (this.isReady) {\n  //     if (this.dataCoverage) {\n  //       return this.dataCoverage;\n  //     } else {\n  //       const coverageArea = localStorage.getItem('coverageArea') as string;\n  //       if (coverageArea) {\n  //         this.dataCoverage = coverageArea;\n  //         return coverageArea;\n  //       } else {\n  //         return 'Jakarta Pusat';\n  //       }\n  //     }\n  //   } else {\n  //     return '';\n  //   }\n  // }\n\n  // /** IS COVERAGE */\n  // set isCoverageArea(data: boolean) {\n  //   if (this.isReady) {\n  //     localStorage.setItem('isCoverageArea', String(data));\n  //     this.dataIsCoverage = data;\n  //   }\n  // }\n  //\n  // get isCoverageArea(): boolean {\n  //   if (this.isReady) {\n  //     if (this.dataIsCoverage) {\n  //       return this.dataIsCoverage;\n  //     } else {\n  //       const coverageArea = localStorage.getItem('isCoverageArea') as string;\n  //       if (coverageArea) {\n  //         this.dataIsCoverage = coverageArea == 'true' ? true : false;\n  //         return this.dataIsCoverage;\n  //       } else {\n  //         return false;\n  //       }\n  //     }\n  //   } else {\n  //     return false;\n  //   }\n  // }\n\n  /** IS DEFAULT ADDRESS */\n  set isDefaultAddress(data: boolean) {\n    if (this.isReady) {\n      localStorage.setItem(\"isDefaultAddress\", String(data));\n      this.dataIsDefaultAddress = data;\n    }\n  }\n\n  get isDefaultAddress(): boolean {\n    if (this.isReady) {\n      if (this.dataIsDefaultAddress) {\n        return this.dataIsDefaultAddress;\n      } else {\n        const defaultAddress = localStorage.getItem(\n          \"isDefaultAddress\"\n        ) as string;\n        if (defaultAddress) {\n          this.dataIsDefaultAddress = defaultAddress == \"true\" ? true : false;\n          return this.dataIsDefaultAddress;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      return false;\n    }\n  }\n\n  /** detailLocation */\n  set detailLocation(data: DetailLocation) {\n    if (this.isReady) {\n      localStorage.setItem(\"detailLocation\", JSON.stringify(data));\n    }\n  }\n\n  get detailLocation(): DetailLocation {\n    if (this.isReady) {\n      const local = localStorage.getItem(\"detailLocation\");\n      if (local) {\n        const defaultAddress: DetailLocation = JSON.parse(\n          local\n        ) as DetailLocation;\n        return defaultAddress;\n      } else {\n        return {} as DetailLocation;\n      }\n    } else {\n      return {} as DetailLocation;\n    }\n  }\n\n  /** detailLocation */\n  set location(data: Address) {\n    this.address = data;\n    if (this.isReady) {\n      localStorage.setItem(\"location\", JSON.stringify(data));\n    }\n  }\n\n  get location(): Address {\n    if (this.isReady) {\n      const local = localStorage.getItem(\"location\");\n      if (local) {\n        const defaultAddress: Address = JSON.parse(local) as Address;\n        return defaultAddress;\n      } else {\n        return {} as Address;\n      }\n    } else {\n      return {} as Address;\n    }\n  }\n\n}\n"],"x_google_ignoreList":[]}