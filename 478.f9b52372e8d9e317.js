(self.webpackChunkyoutapBos=self.webpackChunkyoutapBos||[]).push([[478],{74478:(S,l,i)=>{i.r(l),i.d(l,{AuthModule:()=>C});var u=i(54887),c=i(44398),t=i(17460),h=i(60654),m=i(5966),v=i(25879),p=i(82763),f=i(24921);let g=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["loading-container"]],decls:3,vars:0,consts:[[1,"w-full","h-full","flex","flex-row","justify-center"],[1,"app-content","max-w-[500px]","w-full","h-screen","relative","shadow-lg"],["height","100%","width","100%","styleClass","mr-2"]],template:function(n,a){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275element(2,"p-skeleton",2),t.\u0275\u0275elementEnd()())},dependencies:[f.O],encapsulation:2})}return e})();const y=[{path:"",component:(()=>{class e{constructor(o,n,a,s,I,M,L){if(this.platformId=o,this.activatedRoute=n,this.loginService=a,this.authData=s,this.router=I,this.gaService=M,this.windowActionService=L,(0,u.isPlatformBrowser)(this.platformId)){const d=this.activatedRoute.snapshot?.queryParamMap.get("alpb"),r=this.activatedRoute.snapshot?.queryParamMap.get("stateUrl");d?this.autoLogin(d,r):r&&this.gotoPage(r)}}autoLogin(o,n){this.loginService.validateAutoLoginKeyMutation({validateAutoLoginKeyInput:{key:o}}).subscribe({next:({data:s})=>{s&&(this.authData.token=s.validateAutoLoginKey.authToken.accessToken,this.authData.expiredDate=s.validateAutoLoginKey.authToken.expiredAt,this.gaService.addEvent("Auto Login POS to BOS","login",""),this.gotoPage(n))},error:()=>{this.gotoPage(n)}})}gotoPage(o){o?this.windowActionService.replace(o):this.router.navigate(["home"],{replaceUrl:!0})}static#t=this.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(t.PLATFORM_ID),t.\u0275\u0275directiveInject(c.ActivatedRoute),t.\u0275\u0275directiveInject(h.r69),t.\u0275\u0275directiveInject(m.AuthData),t.\u0275\u0275directiveInject(c.Router),t.\u0275\u0275directiveInject(v.O),t.\u0275\u0275directiveInject(p.k))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["auth"]],decls:2,vars:0,template:function(n,a){1&n&&(t.\u0275\u0275elementStart(0,"loading-container"),t.\u0275\u0275text(1,"loading"),t.\u0275\u0275elementEnd())},dependencies:[g],encapsulation:2})}return e})()}];let A=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:e});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[c.RouterModule.forChild(y),c.RouterModule]})}return e})();var j=i(88222);let C=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:e});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[u.CommonModule,A,j.n]})}return e})()}}]);
//# sourceMappingURL=478.f9b52372e8d9e317.js.map