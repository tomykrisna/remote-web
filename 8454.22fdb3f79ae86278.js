(self.webpackChunkyoutapPosReport=self.webpackChunkyoutapPosReport||[]).push([[8454],{8454:(k,v,i)=>{i.r(v),i.d(v,{AddProductModule:()=>we});var r=i(4887),m=i(4398),c=i(6e3),g=i(5695),u=i(2920),_=i(6698),f=i(7398),e=i(7460);let x=(()=>{class n{constructor(t){this.http=t}uploadFile(t){const o=new FormData;return o.append("file",t),this.http.post(g.environment.POS_API_URL+"/product-imports/upload",o,{reportProgress:!0,observe:"events"}).pipe((0,f.U)(a=>{switch(a.type){case c.HttpEventType.UploadProgress:return Math.round(100*a.loaded/a.total);case c.HttpEventType.Response:return 100;default:return 0}}))}uploadChangeFile(t){const o=new FormData;return o.append("file",t),this.http.post(g.environment.POS_API_URL+"/product-imports/upload/update",o,{reportProgress:!0,observe:"events"}).pipe((0,f.U)(a=>{switch(a.type){case c.HttpEventType.UploadProgress:return Math.round(100*a.loaded/a.total);case c.HttpEventType.Response:return 100;default:return 0}}))}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275inject(c.HttpClient))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var h=i(1001),b=i(5347);const y=()=>({"padding-left":"20px"});let C=(()=>{class n extends b.u{constructor(){super(...arguments),this.showButton=!1}onInjectInputs(t){this.title=t.title,this.showButton=t.closeButton}static#e=this.\u0275fac=(()=>{let t;return function(a){return(t||(t=e.\u0275\u0275getInheritedFactory(n)))(a||n)}})();static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["snk-add-modal"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:2,consts:[[1,"p-4"],[1,"mb-4"],[1,"list-disc",3,"ngStyle"],[1,"mb-2"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"p",1),e.\u0275\u0275text(2," Untuk menghindari gagal upload produk massal, mohon ikuti syarat & ketentuan berikut: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ul",2)(4,"li",3),e.\u0275\u0275text(5,"Masukkan nama produk dengan maksimum 50 karakter"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"li",3),e.\u0275\u0275text(7,"Pastikan nama produk, dan kode SKU berbeda"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"li",3),e.\u0275\u0275text(9,"Harga modal harus lebih kecil dari harga jual"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",3),e.\u0275\u0275text(11,"Maksimum produk yang dimasukkan adalah 200 data"),e.\u0275\u0275elementEnd()()()),2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(1,y)))},dependencies:[r.NgStyle]})}return n})();var D=i(6890),S=i(9275),E=i(8084),I=i(4260),w=i(9523);function B(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",20)(1,"p",21),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.toastMessage," ")}}function R(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"lib-basic-empty-state",22),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("image","./assets/images/png/page-not-found.png")("label","Belum ada produk terupload")("description","Download template dan isi sesuai dengan syarat dan ketentuan yang berlaku, kemudian upload template untuk mengunggah produk-produkmu")("showButton",!1))}const U=()=>({color:"#D0021B"});function O(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(2,U)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.fileErrorMessage," ")}}const j=()=>({height:"6px"});function $(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24)(1,"p",25),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",26),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"p-progressBar",27),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.nameOfFile," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.uploadDate," "),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(4,j))}}function L(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"img",34),e.\u0275\u0275elementEnd())}function N(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",35),e.\u0275\u0275element(2,"img",36),e.\u0275\u0275elementStart(3,"p",37),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"img",38),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" Gagal ",t.failedCount," data ")}}function K(n,l){if(1&n&&e.\u0275\u0275template(0,N,6,1,"div",31),2&n){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275reference(13);e.\u0275\u0275property("ngIf","SUCCESS"===t.status&&t.failedCount>0)("ngIfElse",o)}}function G(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",35),e.\u0275\u0275element(2,"img",36),e.\u0275\u0275elementStart(3,"p",37),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"img",38),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" Gagal ",t.failedCount," data ")}}function W(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275element(1,"img",41)(2,"img",38),e.\u0275\u0275elementEnd())}function H(n,l){if(1&n&&e.\u0275\u0275template(0,G,6,1,"div",31)(1,W,3,0,"ng-template",null,39,e.\u0275\u0275templateRefExtractor),2&n){const t=e.\u0275\u0275reference(2),o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngIf","FAILED"===o.status&&o.failedCount>0)("ngIfElse",t)}}function V(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",28)(1,"div",29),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.gotoDetail(s.id))}),e.\u0275\u0275elementStart(2,"div",30)(3,"p",25),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p",26),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"formatDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div"),e.\u0275\u0275template(9,L,2,0,"div",31)(10,K,1,2,"ng-template",null,32,e.\u0275\u0275templateRefExtractor)(12,H,3,2,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,o=e.\u0275\u0275reference(11);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.fileName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(7,4,t.createdAt,"DD MMM YYYY, HH:mm")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","SUCCESS"===t.status&&0===t.failedCount)("ngIfElse",o)}}function Y(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275element(1,"p-skeleton",43)(2,"p-skeleton",43)(3,"p-skeleton",43)(4,"p-skeleton",43)(5,"p-skeleton",43),e.\u0275\u0275elementEnd())}let z=(()=>{class n{constructor(t,o,a,s,d,p,P,Pe){this.httpClient=t,this.posReportService=o,this.router=a,this.location=s,this.modalService=d,this.uploadService=p,this.downloadService=P,this.libsDownloadFileService=Pe,this.showToast=!1,this.IsloadingDownload=!1,this.IsUploadDownload=!1,this.toastMessage="",this.nameOfFile="",this.isLoading=!1,this.url=g.environment.POS_API_URL,this.selectedFile=null,this.uploadProgress=0,this.isUploading=!1,this.fileErrorMessage=""}ngOnInit(){this.listFiles()}listFiles(){this.isLoading=!0,this.posReportService.getProductImport({listProductImportInput:{filter:{uploadType:"CREATE"},limit:100,page:1}}).subscribe({next:({data:o})=>{this.isLoading=!1,this.files=o.listProductImport.productImports},error:()=>{}})}downloadTemplate(){this.IsloadingDownload=!0,this.downloadService.downloadFile("template.xlsx").subscribe(t=>{const o=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});this.libsDownloadFileService.saveToFile("template.xlsx",o),this.IsloadingDownload=!1,this.showToasts("Template berhasil di download.")},t=>{console.error("Error downloading the file",t),this.IsloadingDownload=!1})}onFileSelected(t){const o=t.target.files[0];if(o){const a=o.name,s=a?.split(".")?.pop()?.toLowerCase();if("xlsx"!==s&&"csv"!==s)return void(this.fileErrorMessage="Invalid file type. Please upload a .xlsx or .csv file.");this.fileErrorMessage="";const d=new Date;this.nameOfFile=a,this.uploadDate=d,this.isUploading=!0,this.uploadService.uploadFile(o).subscribe(p=>{this.uploadProgress=p,100===p&&(this.isUploading=!1,this.listFiles(),this.files.push({fileName:a,createdAt:d,status:"SUCCESS"}))},p=>{this.isUploading=!1,console.error(p)})}}gotoDetail(t){this.router.navigate(["report/add-product/detail"],{queryParams:{id:t}})}showToasts(t){this.toastMessage=t,this.showToast=!0,setTimeout(()=>{this.showToast=!1},2e3)}goBack(){window.history.length<3?this.router.navigate(["/"]):this.location.back()}openSnK(){this.modalService.open(C,{title:"Syarat & Ketentuan",closeButton:!0,infoIcon:!0})}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(c.HttpClient),e.\u0275\u0275directiveInject(u.Q4n),e.\u0275\u0275directiveInject(m.Router),e.\u0275\u0275directiveInject(r.Location),e.\u0275\u0275directiveInject(_.Z),e.\u0275\u0275directiveInject(x),e.\u0275\u0275directiveInject(h.K),e.\u0275\u0275directiveInject(u.Sbs))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["add-product"]],decls:23,vars:22,consts:[[1,"overflow-auto","h-[100%]"],[1,"h-full","bg-white"],["id","header",1,"h-[60px]","z-10","sticky","top-0","shadow-lg"],[1,"flex","flex-row","bg-white","p-[16px]","w-full","h-full","items-center","justify-between"],[1,"flex"],[1,"mr-3","cursor-pointer",3,"click"],["src","https://storage.googleapis.com/production-youtap-public/assets/icon/svg/left-arrow-stick-grey.svg","alt","back",1,"h-[20px]","w-[20px]"],[1,"text-[18px]"],["src","./assets/images/svg/info-black.svg","alt","back",1,"h-[20px]","w-[20px]","cursor-pointer",3,"click"],["class","flex flex-row items-center w-full mx-auto rounded-[8px] bg-[#2E3137] transition ease-in z-50 absolute top-4 left-0",4,"ngIf"],["id","add-product-dashboard",1,"p-4","flex","flex-col","gap-4","bg-white"],[4,"ngIf"],[3,"width","title","bColor","borderColor","border","textColor","disabled","outlined","handleEmit"],[3,"ngStyle",4,"ngIf"],["type","file","accept",".xlsx, .csv",2,"display","none",3,"change"],["fileInput",""],[1,"border-t-2","pt-6","mt-2"],["class","px-4 py-2 border-2 rounded-lg items-center cursor-pointer mb-4",4,"ngIf"],["class","mb-4",4,"ngFor","ngForOf"],["class","flex flex-col mx-[20px] gap-[15px]",4,"ngIf"],[1,"flex","flex-row","items-center","w-full","mx-auto","rounded-[8px]","bg-[#2E3137]","transition","ease-in","z-50","absolute","top-4","left-0"],[1,"text-left","px-3","text-[12px]","mt-1","text-white","font-semibold","py-2"],[3,"image","label","description","showButton"],[3,"ngStyle"],[1,"px-4","py-2","border-2","rounded-lg","items-center","cursor-pointer","mb-4"],[1,"font-semibold"],[1,"text-[#828282]","text-xs"],["mode","indeterminate"],[1,"mb-4"],[1,"px-4","py-2","flex","justify-between","border-2","rounded-lg","items-center","cursor-pointer",3,"click"],[1,"flex","flex-col"],[4,"ngIf","ngIfElse"],["successWithFailuresTemplate",""],["failureTemplate",""],["src","./assets/images/png/success-green.png","alt","Success",1,"w-5","h-4"],[1,"flex","gap-3","items-center"],["src","./assets/images/png/failed-orange.png","alt","Failed",1,"w-5","h-4"],[1,"text-[#FF751D]","font-semibold","mr-1"],["src","./assets/images/png/next-gray.png","alt","Failed",1,"w-3","h-3"],["defaultFailureTemplate",""],[1,"flex","gap-4","items-center"],["src","./assets/images/png/failed-red.png","alt","Failed",1,"w-6","h-6"],[1,"flex","flex-col","mx-[20px]","gap-[15px]"],["width","100%","height","100px"]],template:function(o,a){if(1&o){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.\u0275\u0275listener("click",function(){return a.goBack()}),e.\u0275\u0275element(6,"img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",7),e.\u0275\u0275text(8,"Tambah Produk Massal"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div")(10,"img",8),e.\u0275\u0275listener("click",function(){return a.openSnK()}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(11,B,3,1,"div",9),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275template(13,R,2,4,"div",11),e.\u0275\u0275elementStart(14,"lib-basic-button",12),e.\u0275\u0275listener("handleEmit",function(){return a.downloadTemplate()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"lib-basic-button",12),e.\u0275\u0275listener("handleEmit",function(){e.\u0275\u0275restoreView(s);const p=e.\u0275\u0275reference(18);return e.\u0275\u0275resetView(p.click())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,O,2,3,"span",13),e.\u0275\u0275elementStart(17,"input",14,15),e.\u0275\u0275listener("change",function(p){return a.onFileSelected(p)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",16),e.\u0275\u0275template(20,$,6,5,"div",17)(21,V,14,7,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,Y,6,0,"div",19),e.\u0275\u0275elementEnd()()()}2&o&&(e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",a.showToast),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===(null==a.files?null:a.files.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("width","w-full")("title","Download Template")("bColor","!bg-[#1CAED4]")("borderColor","blue")("border","!border-1")("textColor","text-white")("disabled",a.IsloadingDownload)("outlined",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("width","w-full")("title","Upload Template")("bColor","!bg-primary-yt-dark-blue")("borderColor","blue")("border","!border-1")("textColor","text-white")("disabled",a.IsUploadDownload)("outlined",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.fileErrorMessage),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",a.isUploading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.files),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isLoading))},dependencies:[r.NgForOf,r.NgIf,r.NgStyle,D.S,S.n,E.k,I.O,w.i]})}return n})();function Q(n,l){1&n&&e.\u0275\u0275element(0,"img",18)}function X(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.dataDokumen.successCount||null,"")}}function J(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.dataDokumen.failedCount||null,"")}}const Z=()=>({color:"#828282"});function q(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19)(1,"p"),e.\u0275\u0275text(2," Download dokumen produk gagal untuk memperbaiki data dan upload kembali "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"lib-basic-button",20),e.\u0275\u0275listener("handleEmit",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.handleDownload(a.dataDokumen.failedFileUrl))}),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(9,Z)),e.\u0275\u0275advance(3),e.\u0275\u0275property("width","w-full")("title","Download Produk Gagal")("bColor","!bg-primary-yt-dark-blue")("borderColor","blue")("border","!border-1")("textColor","text-white")("disabled",t.isDownloadFile)("outlined",!1)}}function ee(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Baris ",t.row," ")}}function te(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,ee,2,1,"p",15),e.\u0275\u0275elementStart(2,"p"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.row),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.reason," ")}}const T=()=>({"border-bottom-width":"8px","border-bottom-color":"#F2F2F2"}),F=n=>({color:n});function ne(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"div",9)(3,"p"),e.\u0275\u0275text(4,"Tanggal & Waktu"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p"),e.\u0275\u0275text(6,"Status"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",10)(8,"p"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"formatDate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p",11),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"p",12),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p",13),e.\u0275\u0275template(16,Q,1,0,"img",14)(17,X,2,1,"span",15)(18,J,2,1,"span",15),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,q,4,10,"div",16)(21,te,4,2,"div",17),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(15,T)),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(10,12,t.dataDokumen.createdAt,"DD MMM YYYY, HH:mm")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(16,F,"SUCCESS"===t.dataDokumen.status?"#26AB5E":"PROCESSING"===t.dataDokumen.status?"#828282":"#D0021B")),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","SUCCESS"===t.dataDokumen.status?"Berhasil Upload":"PROCESSING"===t.dataDokumen.status?"Memproses Produk":"Gagal Upload"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",0===t.dataDokumen.failedCount?"Daftar Produk Success Upload":t.dataDokumen.failedCount>0?"Daftar Produk Gagal Upload":"Daftar Produk"," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(18,F,"PROCESSING"===t.dataDokumen.status&&0===t.dataDokumen.failedCount&&0===t.dataDokumen.successCount?"#828282":"FAILED"===t.dataDokumen.status&&0===t.dataDokumen.failedCount&&0===t.dataDokumen.successCount?"#D0021B":0===t.dataDokumen.failedCount?"#26AB5E":t.dataDokumen.failedCount>0?"#D0021B":"#828282")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataDokumen.failedCount>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===t.dataDokumen.failedCount),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataDokumen.failedCount>0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","PROCESSING"===t.dataDokumen.status&&0===t.dataDokumen.failedCount&&0===t.dataDokumen.successCount?"Muat ulang halaman untuk mengubah status":"FAILED"===t.dataDokumen.status&&0===t.dataDokumen.failedCount&&0===t.dataDokumen.successCount||t.dataDokumen.failedCount>0?"Produk gagal diupload":0===t.dataDokumen.failedCount?"Produk berhasil diupload":""," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataDokumen.failedCount>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.errorMessagesArray)}}let oe=(()=>{class n{constructor(t,o,a,s){this.route=t,this.posReportService=o,this.router=a,this.location=s,this.id="",this.errorMessagesArray=[],this.isDownloadFile=!1}ngOnInit(){this.id=this.route.snapshot?.queryParamMap.get("id")??"",this.getDetailDokumen()}getDetailDokumen(){this.posReportService.detailProductImport({detailProductImportInput:{id:this.id}}).subscribe({next:({data:o})=>{this.dataDokumen=o.detailProductImport.productImport;const a=JSON.parse(this.dataDokumen.errorMessages);this.errorMessagesArray=a}})}handleDownload(t){this.isDownloadFile=!0,t&&(window.open(t,"_blank"),this.isDownloadFile=!1)}goBack(){window.history.length<3?this.router.navigate(["/"]):this.location.back()}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(m.ActivatedRoute),e.\u0275\u0275directiveInject(u.Q4n),e.\u0275\u0275directiveInject(m.Router),e.\u0275\u0275directiveInject(r.Location))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["detail-product"]],decls:8,vars:3,consts:[[1,"flex","flex-col","overflow-auto"],["id","header",1,"h-[60px]","z-10","sticky","top-0",3,"ngStyle"],[1,"flex","flex-row","bg-white","p-[16px]","w-full","h-full","items-center"],[1,"mr-3","cursor-pointer",3,"click"],["src","https://storage.googleapis.com/production-youtap-public/assets/icon/svg/left-arrow-stick-grey.svg","alt","back",1,"h-[20px]","w-[20px]"],[1,"text-[18px]"],["class","py-4 flex flex-col gap-2",4,"ngIf"],[1,"py-4","flex","flex-col","gap-2"],[1,"flex","justify-between","items-center","mb-4","py-2","px-4",3,"ngStyle"],[1,"flex","flex-col","text-[#828282]","text-sm"],[1,"flex","flex-col","text-right"],[3,"ngStyle"],[1,"text-xl","px-4"],[1,"px-4","flex","gap-1",3,"ngStyle"],["class","h-[20px] w-[20px]","src","./assets/images/svg/warning-red.svg","alt","back",4,"ngIf"],[4,"ngIf"],["class","px-4 mb-2",3,"ngStyle",4,"ngIf"],["class","flex gap-4 p-4 border-2 rounded-xl mx-4",4,"ngFor","ngForOf"],["src","./assets/images/svg/warning-red.svg","alt","back",1,"h-[20px]","w-[20px]"],[1,"px-4","mb-2",3,"ngStyle"],[3,"width","title","bColor","borderColor","border","textColor","disabled","outlined","handleEmit"],[1,"flex","gap-4","p-4","border-2","rounded-xl","mx-4"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.\u0275\u0275listener("click",function(){return a.goBack()}),e.\u0275\u0275element(4,"img",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"span",5),e.\u0275\u0275text(6,"Detail Dokumen"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(7,ne,22,20,"div",6),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(2,T)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",a.dataDokumen))},dependencies:[r.NgForOf,r.NgIf,r.NgStyle,S.n,w.i]})}return n})();var M=i(5350);const A=()=>({width:"100%"});let ae=(()=>{class n{constructor(t,o,a){this.router=t,this.location=o,this.inventorySignalStockService=a}ngOnInit(){this.listFiles()}goBack(){window.history.length<3?this.router.navigate(["/"]):this.location.back()}listFiles(){this.inventorySignalStockService.getInventoryStocks({listProductInput:{page:1,limit:1,orderByProductStock:{orderBy:"CREATED_AT",sortBy:"DESC"},filter:{startDateStock:null,endDateStock:null,isShowEmptyStock:!1}}}).then(()=>{this.files=this.inventorySignalStockService?.data$()?.listProduct.products})}handleGoToAddProduct(){this.router.navigate(["/report/add-product/add-product"])}handleGoToChangeProduct(){this.router.navigate(["/report/add-product/change-product"])}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(m.Router),e.\u0275\u0275directiveInject(r.Location),e.\u0275\u0275directiveInject(M.c))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["bulk-product"]],decls:20,vars:19,consts:[[1,"overflow-auto","h-[100%]"],[1,"h-full","bg-white"],["id","header",1,"h-[60px]","z-10","sticky","top-0","shadow-lg"],[1,"flex","flex-row","bg-white","p-[16px]","w-full","h-full","items-center","justify-between"],[1,"flex"],[1,"mr-3","cursor-pointer",3,"click"],["src","https://storage.googleapis.com/production-youtap-public/assets/icon/svg/left-arrow-stick-grey.svg","alt","back",1,"h-[20px]","w-[20px]"],[1,"text-[18px]"],[1,"p-4","flex","flex-col","justify-center","items-center","gap-2","bg-white","text-center"],["width","200px","src","https://storage.googleapis.com/production-youtap-public/assets/icon/png/kasir-digital.png"],[1,"text-[16px]","text-grey-1","font-medium","mt-2"],[1,"text-[10px]","text-grey-3","w-[80%]","bg-red-300"],[1,"w-full","flex","justify-between","gap-4","mt-4"],[3,"ngStyle"],[3,"width","title","bColor","borderColor","border","textColor","outlined","handleEmit"],[3,"width","title","bColor","borderColor","border","textColor","outlined","disabled","handleEmit"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.\u0275\u0275listener("click",function(){return a.goBack()}),e.\u0275\u0275element(6,"img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",7),e.\u0275\u0275text(8,"Tambah/Ubah Produk Massal"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(9,"div",8),e.\u0275\u0275element(10,"img",9),e.\u0275\u0275elementStart(11,"p",10),e.\u0275\u0275text(12," Tambah atau Ubah Produk Youtap POS "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"p",11),e.\u0275\u0275text(14," Tambah atau ubah produk ke Youtap POS dan isi template sesuai dengan syarat dan ketentuan yang berlaku. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",12)(16,"div",13)(17,"lib-basic-button",14),e.\u0275\u0275listener("handleEmit",function(){return a.handleGoToAddProduct()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",13)(19,"lib-basic-button",15),e.\u0275\u0275listener("handleEmit",function(){return a.handleGoToChangeProduct()}),e.\u0275\u0275elementEnd()()()()()()),2&o&&(e.\u0275\u0275advance(16),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(17,A)),e.\u0275\u0275advance(1),e.\u0275\u0275property("width","w-full")("title","Tambah Produk")("bColor","!bg-[#1CAED4]")("borderColor","blue")("border","!border-1")("textColor","text-white")("outlined",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(18,A)),e.\u0275\u0275advance(1),e.\u0275\u0275property("width","w-full")("title","Ubah Produk")("bColor","!bg-primary-yt-dark-blue")("borderColor","blue")("border","!border-1")("textColor","text-white")("outlined",!1)("disabled",!(null!=a.files&&a.files.length)))},dependencies:[r.NgStyle,S.n]})}return n})();const ie=()=>({"padding-left":"20px"});let le=(()=>{class n extends b.u{constructor(){super(...arguments),this.showButton=!1}onInjectInputs(t){this.title=t.title,this.showButton=t.closeButton}static#e=this.\u0275fac=(()=>{let t;return function(a){return(t||(t=e.\u0275\u0275getInheritedFactory(n)))(a||n)}})();static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["snk-modal"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:2,consts:[[1,"p-4"],[1,"mb-4"],[1,"list-disc",3,"ngStyle"],[1,"mb-2"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"p",1),e.\u0275\u0275text(2," Untuk menghindari gagal upload perubahan produk massal, mohon ikuti syarat & ketentuan berikut: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ul",2)(4,"li",3),e.\u0275\u0275text(5,"Masukkan nama produk dengan maksimum 50 karakter"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"li",3),e.\u0275\u0275text(7,"Pastikan nama produk, dan kode SKU berbeda"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"li",3),e.\u0275\u0275text(9,"Harga modal harus lebih kecil dari harga jual"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",3),e.\u0275\u0275text(11,"Maksimum produk yang dimasukkan adalah 200 data"),e.\u0275\u0275elementEnd()()()),2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(1,ie)))},dependencies:[r.NgStyle]})}return n})();function re(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",20)(1,"p",21),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.toastMessage," ")}}function se(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"lib-basic-empty-state",22),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("image","./assets/images/png/page-not-found.png")("label","Belum ada produk terubah")("description","Download template dan isi sesuai dengan syarat dan ketentuan yang berlaku, kemudian upload template untuk mengunggah produk-produkmu")("showButton",!1))}const de=()=>({color:"#D0021B"});function ce(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(2,de)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.fileErrorMessage," ")}}const pe=()=>({height:"6px"});function ue(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24)(1,"p",25),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",26),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"p-progressBar",27),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.nameOfFile," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.uploadDate," "),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(4,pe))}}function me(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"img",34),e.\u0275\u0275elementEnd())}function ge(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",35),e.\u0275\u0275element(2,"img",36),e.\u0275\u0275elementStart(3,"p",37),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"img",38),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" Gagal ",t.failedCount," data ")}}function fe(n,l){if(1&n&&e.\u0275\u0275template(0,ge,6,1,"div",31),2&n){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275reference(13);e.\u0275\u0275property("ngIf","SUCCESS"===t.status&&t.failedCount>0)("ngIfElse",o)}}function he(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",35),e.\u0275\u0275element(2,"img",36),e.\u0275\u0275elementStart(3,"p",37),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"img",38),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" Gagal ",t.failedCount," data ")}}function ve(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275element(1,"img",41)(2,"img",38),e.\u0275\u0275elementEnd())}function _e(n,l){if(1&n&&e.\u0275\u0275template(0,he,6,1,"div",31)(1,ve,3,0,"ng-template",null,39,e.\u0275\u0275templateRefExtractor),2&n){const t=e.\u0275\u0275reference(2),o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngIf","FAILED"===o.status&&o.failedCount>0)("ngIfElse",t)}}function xe(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",28)(1,"div",29),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.gotoDetail(s.id))}),e.\u0275\u0275elementStart(2,"div",30)(3,"p",25),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p",26),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"formatDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div"),e.\u0275\u0275template(9,me,2,0,"div",31)(10,fe,1,2,"ng-template",null,32,e.\u0275\u0275templateRefExtractor)(12,_e,3,2,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,o=e.\u0275\u0275reference(11);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.fileName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(7,4,t.createdAt,"DD MMM YYYY, HH:mm")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","SUCCESS"===t.status&&0===t.failedCount)("ngIfElse",o)}}function be(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275element(1,"p-skeleton",43)(2,"p-skeleton",43)(3,"p-skeleton",43)(4,"p-skeleton",43)(5,"p-skeleton",43),e.\u0275\u0275elementEnd())}const Ce=[{path:"",component:ae,title:"Bulk-Product",data:{canGoBack:!0,pageTitle:"Tambah/Ubah Produk Massal"}},{path:"add-product",component:z,title:"Add-Product",data:{canGoBack:!0,pageTitle:"Tambah Produk Massal"}},{path:"change-product",component:(()=>{class n{constructor(t,o,a,s,d,p,P){this.modalService=t,this.downloadService=o,this.router=a,this.location=s,this.posReportService=d,this.transactionService=p,this.uploadService=P,this.showToast=!1,this.toastMessage="",this.isLoading=!1,this.IsloadingDownload=!1,this.IsUploadDownload=!1,this.fileErrorMessage="",this.nameOfFile="",this.url=g.environment.POS_API_URL,this.selectedFile=null,this.uploadProgress=0,this.isUploading=!1,this.statusReport={status:"none",month:-1,urlDownload:"",id:""},this.loadingMonthMutation=!1,this.closeModal=new e.EventEmitter}ngOnInit(){this.listFiles()}handleDownloadProduk(){this.IsloadingDownload=!0,this.statusReport.urlDownload?window.open(this.statusReport.urlDownload):this.posReportService.generateMerchantProducts().subscribe({next:()=>{this.IsloadingDownload=!1,this.checkStatusReport()},error:()=>{}})}checkStatusReport(){this.IsloadingDownload=!0,this.transactionService.checkStatusReport().subscribe({next:({data:t})=>{this.IsloadingDownload=!1,t.checkStatusReport.data&&(this.statusReport=t.checkStatusReport.data,"waiting"===t.checkStatusReport.data.status&&setTimeout(()=>{this.checkStatusReport()},5e3))},error:()=>{}})}listFiles(){this.isLoading=!0,this.posReportService.getProductImport({listProductImportInput:{filter:{uploadType:"UPDATE"},limit:100,page:1}}).subscribe({next:({data:o})=>{this.isLoading=!1,this.files=o.listProductImport.productImports},error:()=>{}})}onFileSelected(t){const o=t.target.files[0];if(o){const a=o.name,s=a?.split(".")?.pop()?.toLowerCase();if("xlsx"!==s&&"csv"!==s)return void(this.fileErrorMessage="Invalid file type. Please upload a .xlsx or .csv file.");this.fileErrorMessage="";const d=new Date;this.nameOfFile=a,this.uploadDate=d,this.isUploading=!0,this.uploadService.uploadChangeFile(o).subscribe(p=>{this.uploadProgress=p,100===p&&(this.isUploading=!1,this.listFiles(),this.files.push({fileName:a,createdAt:d,status:"SUCCESS"}))},p=>{this.isUploading=!1,console.error(p)})}}gotoDetail(t){this.router.navigate(["report/add-product/detail"],{queryParams:{id:t}})}showToasts(t){this.toastMessage=t,this.showToast=!0,setTimeout(()=>{this.showToast=!1},2e3)}goBack(){window.history.length<3?this.router.navigate(["/"]):this.location.back()}openSnK(){this.modalService.open(le,{title:"Syarat & Ketentuan",closeButton:!0,infoIcon:!0})}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(_.Z),e.\u0275\u0275directiveInject(h.K),e.\u0275\u0275directiveInject(m.Router),e.\u0275\u0275directiveInject(r.Location),e.\u0275\u0275directiveInject(u.Q4n),e.\u0275\u0275directiveInject(u.pXi),e.\u0275\u0275directiveInject(x))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["change-product"]],outputs:{closeModal:"closeModal"},decls:23,vars:22,consts:[[1,"overflow-auto","h-[100%]"],[1,"h-full","bg-white"],["id","header",1,"h-[60px]","z-10","sticky","top-0","shadow-lg"],[1,"flex","flex-row","bg-white","p-[16px]","w-full","h-full","items-center","justify-between"],[1,"flex"],[1,"mr-3","cursor-pointer",3,"click"],["src","https://storage.googleapis.com/production-youtap-public/assets/icon/svg/left-arrow-stick-grey.svg","alt","back",1,"h-[20px]","w-[20px]"],[1,"text-[18px]"],["src","./assets/images/svg/info-black.svg","alt","back",1,"h-[20px]","w-[20px]","cursor-pointer",3,"click"],["class","flex flex-row items-center w-full mx-auto rounded-[8px] bg-[#2E3137] transition ease-in z-50 absolute top-4 left-0",4,"ngIf"],["id","add-product-dashboard",1,"p-4","flex","flex-col","gap-4","bg-white"],[4,"ngIf"],[3,"width","title","bColor","borderColor","border","textColor","disabled","outlined","handleEmit"],[3,"ngStyle",4,"ngIf"],["type","file","accept",".xlsx, .csv",2,"display","none",3,"change"],["fileInput",""],[1,"border-t-2","pt-6","mt-2"],["class","px-4 py-2 border-2 rounded-lg items-center cursor-pointer mb-4",4,"ngIf"],["class","mb-4",4,"ngFor","ngForOf"],["class","flex flex-col mx-[20px] gap-[15px]",4,"ngIf"],[1,"flex","flex-row","items-center","w-full","mx-auto","rounded-[8px]","bg-[#2E3137]","transition","ease-in","z-50","absolute","top-4","left-0"],[1,"text-left","px-3","text-[12px]","mt-1","text-white","font-semibold","py-2"],[3,"image","label","description","showButton"],[3,"ngStyle"],[1,"px-4","py-2","border-2","rounded-lg","items-center","cursor-pointer","mb-4"],[1,"font-semibold"],[1,"text-[#828282]","text-xs"],["mode","indeterminate"],[1,"mb-4"],[1,"px-4","py-2","flex","justify-between","border-2","rounded-lg","items-center","cursor-pointer",3,"click"],[1,"flex","flex-col"],[4,"ngIf","ngIfElse"],["successWithFailuresTemplate",""],["failureTemplate",""],["src","./assets/images/png/success-green.png","alt","Success",1,"w-5","h-4"],[1,"flex","gap-3","items-center"],["src","./assets/images/png/failed-orange.png","alt","Failed",1,"w-5","h-4"],[1,"text-[#FF751D]","font-semibold","mr-1"],["src","./assets/images/png/next-gray.png","alt","Failed",1,"w-3","h-3"],["defaultFailureTemplate",""],[1,"flex","gap-4","items-center"],["src","./assets/images/png/failed-red.png","alt","Failed",1,"w-6","h-6"],[1,"flex","flex-col","mx-[20px]","gap-[15px]"],["width","100%","height","100px"]],template:function(o,a){if(1&o){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.\u0275\u0275listener("click",function(){return a.goBack()}),e.\u0275\u0275element(6,"img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",7),e.\u0275\u0275text(8,"Ubah Produk Massal"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div")(10,"img",8),e.\u0275\u0275listener("click",function(){return a.openSnK()}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(11,re,3,1,"div",9),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275template(13,se,2,4,"div",11),e.\u0275\u0275elementStart(14,"lib-basic-button",12),e.\u0275\u0275listener("handleEmit",function(){return a.handleDownloadProduk()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"lib-basic-button",12),e.\u0275\u0275listener("handleEmit",function(){e.\u0275\u0275restoreView(s);const p=e.\u0275\u0275reference(18);return e.\u0275\u0275resetView(p.click())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,ce,2,3,"span",13),e.\u0275\u0275elementStart(17,"input",14,15),e.\u0275\u0275listener("change",function(p){return a.onFileSelected(p)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",16),e.\u0275\u0275template(20,ue,6,5,"div",17)(21,xe,14,7,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,be,6,0,"div",19),e.\u0275\u0275elementEnd()()()}2&o&&(e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",a.showToast),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===(null==a.files?null:a.files.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("width","w-full")("title","waiting"===a.statusReport.status?"Download Berlangsung...":"Download Daftar Produkmu")("bColor","!bg-[#1CAED4]")("borderColor","blue")("border","!border-1")("textColor","text-white")("disabled","waiting"===a.statusReport.status)("outlined",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("width","w-full")("title","Upload Produk Terupdate")("bColor","!bg-primary-yt-dark-blue")("borderColor","blue")("border","!border-1")("textColor","text-white")("disabled",a.IsUploadDownload)("outlined",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.fileErrorMessage),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",a.isUploading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.files),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isLoading))},dependencies:[r.NgForOf,r.NgIf,r.NgStyle,D.S,S.n,E.k,I.O,w.i]})}return n})(),title:"Change-Product",data:{canGoBack:!0,pageTitle:"Ubah Produk Massal"}},{path:"detail",component:oe,title:"Detail-Dokumen",data:{canGoBack:!0,pageTitle:"Detail Dokumen"}}];let Se=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.RouterModule.forChild(Ce),m.RouterModule]})}return n})();var ke=i(2168),ye=i(1685),Ee=i(4089),Ie=i(3985);let we=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[u.Q4n,u.pXi,M.c,u.tMP,ye._M,c.HttpClient,{provide:"BASE_URL_BOS_API",useClass:ke.G,useValue:g.environment.BOS_API_URL}],imports:[r.CommonModule,Se,u.PPX,u.hJ1,Ee.hJ,Ie.p,u.drE,E.q,I.m]})}return n})()},1001:(k,v,i)=>{i.d(v,{K:()=>_});var r=i(6e3),c=i(5695),g=i(7460);let _=(()=>{class f{constructor(x){this.httpClient=x}downloadFile(x){return this.httpClient.get(c.environment.POS_API_URL+"/product-imports/template",{responseType:"blob"})}downloadAnalysisFile(x,h,b){return this.httpClient.get(c.environment.POS_API_URL+"/product-analytics/generate-report",{params:h,headers:x,responseType:"blob"})}static#e=this.\u0275fac=function(h){return new(h||f)(g.\u0275\u0275inject(r.HttpClient))};static#t=this.\u0275prov=g.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},5350:(k,v,i)=>{i.d(v,{c:()=>f});var r=i(8645),m=i(9773),c=i(7460),u=i(2920);const _={data$:{},loaded$:!1,loading$:!1,error$:null};let f=(()=>{class e{constructor(h){this.inventoryStockService=h,this.terminate$=new r.x,this.state=(0,c.signal)(_),this.data$=(0,c.computed)(()=>this.state().data$),this.loaded$=(0,c.computed)(()=>this.state().loaded$),this.loading$=(0,c.computed)(()=>this.state().loading$),this.error$=(0,c.computed)(()=>this.state().error$)}getInventoryStocks(h){return new Promise((b,y)=>{this.state.set({data$:{},loaded$:!1,loading$:!0,error$:null}),this.inventoryStockService.getListProductStocks(h).pipe((0,m.R)(this.terminate$)).subscribe({next:({data:C})=>{this.state.set({data$:C,loaded$:!0,loading$:!1,error$:null}),b(!0)},error:C=>{this.state.set({data$:{},loaded$:!0,loading$:!1,error$:C}),y(C)}})})}destroy(){this.terminate$.next(1),this.terminate$.complete()}static#e=this.\u0275fac=function(b){return new(b||e)(c.\u0275\u0275inject(u.tMP))};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},9773:(k,v,i)=>{i.d(v,{R:()=>u});var r=i(9360),m=i(8251),c=i(4829),g=i(2420);function u(_){return(0,r.e)((f,e)=>{(0,c.Xf)(_).subscribe((0,m.x)(e,()=>e.complete(),g.Z)),!e.closed&&f.subscribe(e)})}}}]);